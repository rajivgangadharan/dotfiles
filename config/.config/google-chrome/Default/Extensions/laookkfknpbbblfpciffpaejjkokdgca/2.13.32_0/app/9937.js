(globalThis.webpackChunkmomentum=globalThis.webpackChunkmomentum||[]).push([[9937,4145],{92999:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var i=o(8081),r=o.n(i),s=o(23645),n=o.n(s)()(r());n.push([t.id,".base-dropdown-text[data-v-d3fdffb8]{padding:.425rem var(--dropdown-padding);color:var(--color-stop-4);font-size:.8125rem;font-weight:600}.base-dropdown-text.title[data-v-d3fdffb8]{color:var(--color-stop-4);text-transform:uppercase}",""]);const a=n},7756:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var i=o(8081),r=o.n(i),s=o(23645),n=o.n(s)()(r());n.push([t.id,'.note-list-item[data-v-2a753d38]{margin:0 calc(var(--app-padding)/2);overflow:auto;border-radius:var(--border-radius);border-color:rgba(0,0,0,0);cursor:pointer}.note-list-item[data-v-2a753d38]:hover{background:var(--color-stop-1)}.note-list-item[data-v-2a753d38]:hover:active{background:var(--color-stop-2)}.note-list-item.active[data-v-2a753d38]{background:var(--color-stop-2)}.note-list-item[data-v-2a753d38]::before,.note-list-item[data-v-2a753d38]:last-child::after{content:"";width:calc(100% - var(--app-padding));height:.0625rem;display:flex;margin:auto;background-color:var(--color-stop-2)}.note-list-item[data-v-2a753d38]:hover::before,.note-list-item:hover+.note-list-item[data-v-2a753d38]::before,.note-list-item[data-v-2a753d38]:hover::after,.note-list-item[data-v-2a753d38]:is(.note-list-item.active,.note-list-item.active+.note-list-item)::before,.note-list-item.active[data-v-2a753d38]::after{background-color:rgba(0,0,0,0)}.note-list-item-title[data-v-2a753d38]{padding:.65rem calc(var(--app-padding)/2);overflow:hidden;font-size:.875rem;font-weight:500;text-overflow:ellipsis;white-space:nowrap}',""]);const a=n},79649:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var i=o(8081),r=o.n(i),s=o(23645),n=o.n(s)()(r());n.push([t.id,".notes-ai-actions[data-v-0ab556e4],.notes-ai-actions-toggle[data-v-0ab556e4]{width:100%;height:100%;position:absolute}",""]);const a=n},40199:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var i=o(8081),r=o.n(i),s=o(23645),n=o.n(s)()(r());n.push([t.id,".notes-ai-history-content[data-v-00fae5e6]{padding:0}.notes-ai-history-content .history-header[data-v-00fae5e6]{display:flex;align-items:center;justify-content:space-between;padding:.75rem var(--dropdown-padding) .5rem;font-size:1rem;font-weight:600}.notes-ai-history-content .history-header .icon-wrapper[data-v-00fae5e6]{--icon-size: 10px;border:none;background:none}.notes-ai-history-content .history-body[data-v-00fae5e6]{display:flex;flex-direction:column;padding:var(--dropdown-padding);white-space:pre-line}.notes-ai-history-content .history-body-result[data-v-00fae5e6]{min-height:3rem;max-height:13rem;position:relative;padding:var(--dropdown-padding);overflow:auto;border-radius:var(--border-radius);background-color:var(--color-bg)}.notes-ai-history-content .history-body-result-loading[data-v-00fae5e6]{color:var(--color-stop-4)}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6]{line-height:1.5}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6]:focus-visible{outline:none}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6][contenteditable=false]{-webkit-user-select:text;user-select:text;opacity:var(--opacity-stop-5)}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] *:where(:not(.notes-editor-title-node-view *)){margin:.75rem 0;word-break:break-word}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] *:where(:not(.notes-editor-title-node-view *)):first-child{margin-top:0}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] *:where(:not(.notes-editor-title-node-view *)):last-child{margin-bottom:0}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] h1,.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] h2,.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] h3,.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] h4,.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] h5,.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] h6{margin:1.25em 0 max(.75rem,.75em);line-height:1.25}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] h1{font-size:1.44rem}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] h2{font-size:1.2rem}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] h3{font-size:1.124rem}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] h4{font-size:1rem}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] h5{font-size:.9375rem}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] h6{font-size:.875rem}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] p{padding:0}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ul{list-style:disc outside}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ol{list-style:decimal outside}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ul,.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ol{padding:0 0 0 1.25rem}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ul li,.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ol li{margin:.25rem 0}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ul li p,.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ol li p{margin:0}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ul li>ul,.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ul li>ol,.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ol li>ul,.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ol li>ol{margin:.25rem 0}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ul[data-type=taskList]{padding:0 0 0 .15rem;list-style:none}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ul[data-type=taskList] li{display:flex;align-items:center;gap:.5rem}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ul[data-type=taskList] li *{margin:0}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ul[data-type=taskList] li[data-checked=true]{color:var(--color-stop-5);text-decoration:line-through}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] ul[data-type=taskList] li label{display:flex}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] hr{height:.125rem;border:none;border-radius:1rem;background-color:var(--color-stop-3)}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] hr.ProseMirror-selectednode{background-color:var(--color-text)}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] blockquote{padding-left:1rem;border-left:var(--color-stop-3) .1875rem solid}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] code{padding:.15rem}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] pre{padding:.75rem}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] pre,.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] code{border-radius:.25rem;background-color:var(--color-stop-2)}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] pre code,.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] code code{padding:0;border-radius:0;background-color:unset}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] mark{background-color:var(--color-mark);color:var(--color-text)}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] a{color:var(--color-button);text-decoration:underline;cursor:pointer}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] a mark{color:inherit}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] s{color:var(--color-stop-5)}.notes-ai-history-content .history-body-result-content[data-v-00fae5e6] span[data-type=customNoteLink]{color:var(--color-stop-5);text-decoration:underline}.notes-ai-history-content .history-body-result-error[data-v-00fae5e6]{color:var(--color-error)}.notes-ai-history-content .history-body-actions[data-v-00fae5e6]{display:flex;flex-wrap:wrap;margin-top:var(--dropdown-padding);gap:.5rem}.notes-ai-history-content .history-body-actions .button[data-v-00fae5e6]{padding-right:var(--app-padding);padding-left:var(--app-padding);transition:var(--a-default)}.notes-ai-history-content .history-body-actions.disabled[data-v-00fae5e6]{opacity:var(--opacity-stop-5);pointer-events:none}.notes-ai-history-content .history-ai-links-warning[data-v-00fae5e6]{--color-icon: var(--color-stop-4);--icon-size: 0.6875rem;display:flex;align-items:center;padding-top:.5rem;color:var(--color-icon);font-size:.9375rem;font-style:italic;gap:.4rem}.notes-ai-history[data-v-00fae5e6],.notes-ai-history-toggle[data-v-00fae5e6]{width:100%;height:100%;position:absolute}",""]);const a=n},479:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var i=o(8081),r=o.n(i),s=o(23645),n=o.n(s)()(r());n.push([t.id,".notes-editor[data-v-65c97882]{--cursor-position-x: var(--5ae47bb4);--cursor-position-y: var(--5ae47bb2);--cursor-height: var(--15f2a78e);--cursor-width: var(--74176874);--cursor-left: var(--5e905799);--cursor-right: var(--73d0fcca);--cursor-bottom: var(--29489586);--cursor-top: var(--6625cf83);--cursor-side-padding: max(calc((100% - 750px) / 2), var(--app-padding));height:100%;display:flex;position:relative;flex-direction:column;flex-grow:1;overflow-y:auto}.notes-editor .message[data-v-65c97882]{margin-bottom:var(--app-padding)}.notes-editor .button[data-v-65c97882]{margin-left:8px;padding:6px 16px;font-size:.75rem}.notes-editor .editor[data-v-65c97882]{flex-grow:1}.notes-editor .editor[data-v-65c97882] .ProseMirror{height:100%;padding:0 var(--cursor-side-padding) 15rem;line-height:1.5}.notes-editor .editor[data-v-65c97882] .ProseMirror *:first-child.is-empty h1::before{content:attr(data-placeholder);height:0;float:left;color:var(--color-stop-4);pointer-events:none}.notes-editor .editor[data-v-65c97882] .ProseMirror:focus-visible{outline:none}.notes-editor .editor[data-v-65c97882] .ProseMirror[contenteditable=false]{-webkit-user-select:text;user-select:text;opacity:var(--opacity-stop-5)}.notes-editor .editor[data-v-65c97882] .ProseMirror *:where(:not(.notes-editor-title-node-view *)){margin:.75rem 0;word-break:break-word}.notes-editor .editor[data-v-65c97882] .ProseMirror *:where(:not(.notes-editor-title-node-view *)):first-child{margin-top:0}.notes-editor .editor[data-v-65c97882] .ProseMirror *:where(:not(.notes-editor-title-node-view *)):last-child{margin-bottom:0}.notes-editor .editor[data-v-65c97882] .ProseMirror h1,.notes-editor .editor[data-v-65c97882] .ProseMirror h2,.notes-editor .editor[data-v-65c97882] .ProseMirror h3,.notes-editor .editor[data-v-65c97882] .ProseMirror h4,.notes-editor .editor[data-v-65c97882] .ProseMirror h5,.notes-editor .editor[data-v-65c97882] .ProseMirror h6{margin:1.25em 0 max(.75rem,.75em);line-height:1.25}.notes-editor .editor[data-v-65c97882] .ProseMirror h1{font-size:1.44rem}.notes-editor .editor[data-v-65c97882] .ProseMirror h2{font-size:1.2rem}.notes-editor .editor[data-v-65c97882] .ProseMirror h3{font-size:1.124rem}.notes-editor .editor[data-v-65c97882] .ProseMirror h4{font-size:1rem}.notes-editor .editor[data-v-65c97882] .ProseMirror h5{font-size:.9375rem}.notes-editor .editor[data-v-65c97882] .ProseMirror h6{font-size:.875rem}.notes-editor .editor[data-v-65c97882] .ProseMirror p{padding:0}.notes-editor .editor[data-v-65c97882] .ProseMirror ul{list-style:disc outside}.notes-editor .editor[data-v-65c97882] .ProseMirror ol{list-style:decimal outside}.notes-editor .editor[data-v-65c97882] .ProseMirror ul,.notes-editor .editor[data-v-65c97882] .ProseMirror ol{padding:0 0 0 1.25rem}.notes-editor .editor[data-v-65c97882] .ProseMirror ul li,.notes-editor .editor[data-v-65c97882] .ProseMirror ol li{margin:.25rem 0}.notes-editor .editor[data-v-65c97882] .ProseMirror ul li p,.notes-editor .editor[data-v-65c97882] .ProseMirror ol li p{margin:0}.notes-editor .editor[data-v-65c97882] .ProseMirror ul li>ul,.notes-editor .editor[data-v-65c97882] .ProseMirror ul li>ol,.notes-editor .editor[data-v-65c97882] .ProseMirror ol li>ul,.notes-editor .editor[data-v-65c97882] .ProseMirror ol li>ol{margin:.25rem 0}.notes-editor .editor[data-v-65c97882] .ProseMirror ul[data-type=taskList]{padding:0 0 0 .15rem;list-style:none}.notes-editor .editor[data-v-65c97882] .ProseMirror ul[data-type=taskList] li{display:flex;align-items:center;gap:.5rem}.notes-editor .editor[data-v-65c97882] .ProseMirror ul[data-type=taskList] li *{margin:0}.notes-editor .editor[data-v-65c97882] .ProseMirror ul[data-type=taskList] li[data-checked=true]{color:var(--color-stop-5);text-decoration:line-through}.notes-editor .editor[data-v-65c97882] .ProseMirror ul[data-type=taskList] li label{display:flex}.notes-editor .editor[data-v-65c97882] .ProseMirror hr{height:.125rem;border:none;border-radius:1rem;background-color:var(--color-stop-3)}.notes-editor .editor[data-v-65c97882] .ProseMirror hr.ProseMirror-selectednode{background-color:var(--color-text)}.notes-editor .editor[data-v-65c97882] .ProseMirror blockquote{padding-left:1rem;border-left:var(--color-stop-3) .1875rem solid}.notes-editor .editor[data-v-65c97882] .ProseMirror code{padding:.15rem}.notes-editor .editor[data-v-65c97882] .ProseMirror pre{padding:.75rem}.notes-editor .editor[data-v-65c97882] .ProseMirror pre,.notes-editor .editor[data-v-65c97882] .ProseMirror code{border-radius:.25rem;background-color:var(--color-stop-2)}.notes-editor .editor[data-v-65c97882] .ProseMirror pre code,.notes-editor .editor[data-v-65c97882] .ProseMirror code code{padding:0;border-radius:0;background-color:unset}.notes-editor .editor[data-v-65c97882] .ProseMirror mark{background-color:var(--color-mark);color:var(--color-text)}.notes-editor .editor[data-v-65c97882] .ProseMirror a{color:var(--color-button);text-decoration:underline;cursor:pointer}.notes-editor .editor[data-v-65c97882] .ProseMirror a mark{color:inherit}.notes-editor .editor[data-v-65c97882] .ProseMirror s{color:var(--color-stop-5)}.notes-editor .editor[data-v-65c97882] .ProseMirror span[data-type=customNoteLink]{color:var(--color-stop-5);text-decoration:underline}.notes-editor .editor[data-v-65c97882] .ProseMirror .ProseMirror-gapcursor{margin:0}.notes-editor .editor[data-v-65c97882] .ProseMirror .ProseMirror-gapcursor::after{border-top-color:currentcolor}.notes-editor .editor[data-v-65c97882] .ProseMirror *:first-child+*:last-child.is-empty::before{content:attr(data-placeholder);height:0;float:left;color:var(--color-stop-4);pointer-events:none}",""]);const a=n},33932:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var i=o(8081),r=o.n(i),s=o(23645),n=o.n(s)()(r());n.push([t.id,".notes-editor-ai[data-v-6a5d9321]{width:0;height:var(--cursor-height);position:absolute;top:calc(var(--cursor-position-y));left:calc(var(--cursor-position-x) + var(--cursor-width)/2);pointer-events:none}",""]);const a=n},17811:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var i=o(8081),r=o.n(i),s=o(23645),n=o.n(s)()(r());n.push([t.id,".notes-editor-back-links[data-v-71515374]{display:flex;margin-top:.125rem;font-size:.9375rem;gap:.375rem}.notes-editor-back-links .icon-back-link[data-v-71515374]{--icon-size: 0.9375rem;flex-shrink:0;fill:var(--color-stop-4);vertical-align:-12%}.notes-editor-back-links-items[data-v-71515374]{display:flex;flex-wrap:wrap;overflow:hidden;gap:0 .25rem}.notes-editor-back-links-item[data-v-71515374]{padding:.125rem;overflow:hidden;border:none;border-radius:.2rem;background:none;color:var(--color-stop-5);line-height:120%;text-decoration:underline;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}.notes-editor-back-links-item[data-v-71515374]:hover{background-color:var(--color-stop-1)}.notes-editor-back-links-item[data-v-71515374]:hover:active{background-color:var(--color-stop-2)}.notes-editor-back-links-tooltip-content[data-v-71515374]{flex-direction:row;align-items:baseline;padding:.5625rem .8rem;gap:.6rem}.notes-editor-back-links-tooltip-content span[data-v-71515374]{font-size:.9375rem}.notes-editor-back-links-tooltip-content a[data-v-71515374]{color:var(--color-stop-4);font-size:.875rem}.notes-editor-back-links-tooltip-content a[data-v-71515374]:hover{text-decoration:underline}",""]);const a=n},67210:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var i=o(8081),r=o.n(i),s=o(23645),n=o.n(s)()(r());n.push([t.id,".notes-editor-link-suggestion[data-v-a55bcd7a]{width:0;height:var(--cursor-height);position:absolute;top:calc(var(--cursor-position-y));left:calc(var(--cursor-position-x) + var(--cursor-width)/2);pointer-events:none}.notes-editor-link-suggestion-toggle[data-v-a55bcd7a]{width:100%;height:100%;position:absolute}.new-note-option-title[data-v-a55bcd7a]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""]);const a=n},43095:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var i=o(8081),r=o.n(i),s=o(23645),n=o.n(s)()(r());n.push([t.id,".notes-editor-title-node-view[data-v-cb7b8dd2]{margin-bottom:calc(var(--app-padding)/2) !important}.notes-editor-title-node-view h1[data-v-cb7b8dd2]{margin:0 !important;font-size:1.728rem !important}",""]);const a=n},26452:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var i=o(8081),r=o.n(i),s=o(23645),n=o.n(s)()(r());n.push([t.id,".notes-editor-toolbar[data-v-4593ad14]{width:0;height:var(--cursor-height);position:absolute;top:calc(var(--cursor-position-y));left:calc(var(--cursor-position-x) + var(--cursor-width)/2);pointer-events:none}.notes-editor-toolbar-default[data-v-4593ad14],.notes-editor-toolbar-default-toggle[data-v-4593ad14],.notes-editor-toolbar-link[data-v-4593ad14],.notes-editor-toolbar-link-toggle[data-v-4593ad14]{width:100%;height:100%;position:absolute}.notes-editor-toolbar-default-content[data-v-4593ad14]{flex-direction:row;padding:.25rem;gap:.1rem}.notes-editor-toolbar-link-content[data-v-4593ad14]{padding:.25rem}.notes-editor-toolbar-link-content input[data-v-4593ad14]{padding:.25rem;border:none;border-radius:var(--border-radius);outline:none;background-color:var(--color-stop-1);color:var(--color-text)}.notes-editor-toolbar-link-content input[data-v-4593ad14]::placeholder{color:var(--color-stop-5)}",""]);const a=n},71002:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var i=o(8081),r=o.n(i),s=o(23645),n=o.n(s)()(r());n.push([t.id,".notes-editor-toolbar-button.icon-wrapper[data-v-0f8e676a]{--icon-size: 16px;width:var(--icon-size);height:var(--icon-size);box-sizing:content-box;border:none;border-radius:var(--border-radius);background:none;color:var(--color-text)}.notes-editor-toolbar-button.icon-wrapper[data-v-0f8e676a]::after{border-radius:var(--border-radius)}.notes-editor-toolbar-button.icon-wrapper.active[data-v-0f8e676a]{background:var(--color-stop-2)}.notes-editor-toolbar-button.icon-wrapper .icon[data-v-0f8e676a]{opacity:1}",""]);const a=n},20594:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var i=o(8081),r=o.n(i),s=o(23645),n=o.n(s)()(r());n.push([t.id,".notes-editor-toolbar-divider[data-v-12fb7d90]{width:.0625rem;opacity:var(--opacity-stop-2);margin:0 .25rem;background-color:var(--color-text)}",""]);const a=n},93650:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var i=o(8081),r=o.n(i),s=o(23645),n=o.n(s)()(r());n.push([t.id,".notes-header-ai[data-v-b7dbe08c]{height:100%;display:flex;align-items:center;font-weight:600;cursor:pointer}.notes-header-ai-content[data-v-b7dbe08c]{position:relative;padding:.15rem 0;pointer-events:none}.notes-header-ai-content-toggle[data-v-b7dbe08c]{display:flex;flex-direction:row;align-items:center;gap:.25rem}.notes-header-ai-content-toggle .icon-ai[data-v-b7dbe08c]{--icon-size: 0.8125rem}.notes-header-ai-content-toggle .ai-label[data-v-b7dbe08c]{opacity:.7;font-weight:500}.notes-header-ai-content-toggle .icon-chevron-down[data-v-b7dbe08c]{--icon-size: 0.5rem;margin-left:.05rem;color:var(--color-stop-4)}.notes-header-ai-content .notes-ai-history[data-v-b7dbe08c],.notes-header-ai-content .notes-ai-actions[data-v-b7dbe08c]{position:absolute;inset:0}.notes-header-ai[data-v-b7dbe08c] > .icon-wrapper{position:relative}.notes-header-ai[data-v-b7dbe08c] > .icon-wrapper:hover .notes-header-ai-content-toggle .ai-label{opacity:.8}.notes-header-ai[data-v-b7dbe08c] > .icon-wrapper:active .notes-header-ai-content-toggle .ai-label{opacity:1}.notes-header-ai[data-v-b7dbe08c] > .icon-wrapper::after{width:3.75rem}",""]);const a=n},6794:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var i=o(8081),r=o.n(i),s=o(23645),n=o.n(s)()(r());n.push([t.id,"\n/* stylelint-disable */\n.search-wrapper[data-v-32d271ec] { margin-right: 0;\n}\n.icon-search[data-v-32d271ec] { height: auto; width: auto;\n}\n.icon-search[data-v-32d271ec]:before { top: 49%;\n}\n.search-wrapper:focus-within .icon-search[data-v-32d271ec]:before { opacity: var(--opacity-stop-6);\n}\n.icon-clear[data-v-32d271ec] { opacity: 0; transition: var(--a-default);\n}\n.search-wrapper:focus-within .icon-clear[data-v-32d271ec] { opacity: var(--opacity-stop-3);\n}\n.search-wrapper:hover .icon-clear[data-v-32d271ec] { opacity: var(--opacity-stop-4);\n}\n",""]);const a=n},18553:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var i=o(8081),r=o.n(i),s=o(23645),n=o.n(s)()(r());n.push([t.id,"\n/* stylelint-disable */\n.app-view-switch[data-v-4b11beca] { min-height: 0; position: relative; display: flex; flex-direction: column;\n}\n.app-view-switch.transitioning[data-v-4b11beca] { overflow: hidden !important;\n}\n.app-view-switch > div[data-v-4b11beca] { min-height: 0; display: flex; flex-direction: column;\n}\n.app-view-switch > div[data-v-4b11beca] > * { min-height: 0;\n}\n.slide-left-enter-active[data-v-4b11beca],\n\t.slide-left-leave-active[data-v-4b11beca],\n\t.slide-right-enter-active[data-v-4b11beca],\n\t.slide-right-leave-active[data-v-4b11beca] { transition: transform 300ms ease;\n}\n.slide-left-leave-active[data-v-4b11beca], .slide-right-leave-active[data-v-4b11beca] { position: absolute; inset: 0;\n}\n.slide-left-leave-to[data-v-4b11beca], .slide-right-enter[data-v-4b11beca] { transform: translateX(-100%);\n}\n.slide-left-enter[data-v-4b11beca], .slide-right-leave-to[data-v-4b11beca] { transform: translateX(100%);\n}\n\n",""]);const a=n},16880:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var i=o(8081),r=o.n(i),s=o(23645),n=o.n(s)()(r());n.push([t.id,"\n/* stylelint-disable */\n[data-v-097e5832] .app { --header-height: 4.125rem; --sidebar-width: 13.5rem; height: 630px; padding: 0;\n}\n\t/* z-index: 0; is for a safari specific bug where overflow hidden does not work with position absolute */\n.app-content[data-v-097e5832] { height: 100%; position: relative; z-index: 0; display: flex; border-radius: var(--border-radius); overflow: hidden;\n}\n.app-view-switch[data-v-097e5832] { width: var(--sidebar-width) !important;\n}\n.list-switcher[data-v-097e5832] { border-right: 1px solid var(--color-stop-2);\n}\n.list[data-v-097e5832] { max-height: none;\n}\n.notes-list .app-header[data-v-097e5832] { padding: 0 calc(var(--app-padding) / 2);\n}\n.app-search[data-v-097e5832] { flex-grow: 1;\n}\n.deleted-description[data-v-097e5832] { padding: 0 var(--app-padding) calc(var(--app-padding) - 6px); opacity: var(--opacity-stop-5); font-size: .75rem; line-height: 1.4; text-align: center;\n}\n.note-detail[data-v-097e5832] { height: 100%; width: 0; flex-grow: 1; max-height: none;\n}\n.last-edited-title[data-v-097e5832] { opacity: var(--opacity-stop-4); font-size: .8125rem;\n}\n.delete-confirm[data-v-097e5832] { padding: calc(var(--app-padding) / 1.25) var(--app-padding);\n}\n.touch .delete-confirm[data-v-097e5832] { max-width: unset; padding: calc(var(--toast-padding) / 2) var(--toast-padding);\n}\n.buttons[data-v-097e5832] { margin-top: 16px; display: flex; gap: 8px;\n}\n.touch .buttons > *[data-v-097e5832] { flex-grow: 1; text-align: center;\n}\n.button-neutral[data-v-097e5832] { --color-button: var(--color-stop-3); --color-button-hover: var(--color-stop-4); --color-button-active: var(--color-stop-4);\n}\n.note-detail[data-v-097e5832] .app-body { --app-padding: 25px; height: 0; padding-bottom: 0 !important; flex-grow: 1; display: flex;\n}\n.list-switcher[data-v-097e5832] { --sidebar-width: 250px; margin-right: calc(0px - var(--sidebar-width)); transform: translateX(-100%); transition: var(--a-default);\n}\n.sidebar-open .list-switcher[data-v-097e5832] { margin-right: 0; transform: none;\n}\n@media screen and (max-width: 850px) {\n.list-switcher[data-v-097e5832] { position: absolute; top: 0; bottom: 0; z-index: 2; background: var(--color-bg); transform: translateX(-100%); transition: var(--a-default) !important;  border-right: none;\n}\n.sidebar-open .list-switcher[data-v-097e5832] { transform: translateX(0);\n}\n}\n@media screen and (max-width: 450px) {\n[data-v-097e5832] .app { height: 100%;\n}\n}\n",""]);const a=n},55040:(t,e,o)=>{"use strict";var i;o.d(e,{O:()=>i,k:()=>r}),function(t){t.Row="row",t.Column="column"}(i||(i={}));const r=3},18030:(t,e,o)=>{"use strict";o.d(e,{Z:()=>s});var i=o(70237),r=o(7838);const s=(0,o(20144).aZ)({setup:()=>({flashMessageId:null}),methods:{showFlashMessage(t){this.flashMessageId&&r.Z.$emit("flashMessage:dismiss",this.flashMessageId),this.flashMessageId=i.Z.uuidv4(),t.id=this.flashMessageId,r.Z.$emit("flashMessage",t)}}})},34145:(t,e,o)=>{"use strict";o.d(e,{U:()=>a});var i=o(42935),r=o(24960),s=o(67652),n=o(35597);class a{constructor(t,{queryParams:e={},getResponseProperty:o,path:i="",mode:n=s.Z.Sync}={}){this.type=t,this.queryParams=e,this.getResponseProperty=o,this.path=i,this.mode=n,this.dataSync=r.Z}get({id:t,path:e=this.path||this.type,mode:o=this.mode,success:i,failure:r,queryParams:a={},retry:d,responseProperty:c=this.getResponseProperty,appendIdToPath:l,timestampKey:p=this.type}){(async()=>{var h;o===s.Z.Timestamp&&(o=await n.Z.requiresSync(p)?s.Z.Sync:s.Z.Cache,n.Z.addUpdateListener(p,this.refresh.bind(this,{id:t,path:e,queryParams:a,retry:d,responseProperty:c,appendIdToPath:l,timestampKey:p}))),e+=this.buildQueryString((null===(h=this.queryParams)||void 0===h?void 0:h.get)||{},a);const u=[this.type,{id:t,path:e,env:this.getEnv(),mode:o,retry:d,responseProperty:c,appendIdToPath:l,timestampKey:p}];o===s.Z.Server?this.dataSync.sendMessage({handler:"get",args:u}).then(i).catch(r):this.dataSync.sendRecurringCrossTabMessage({msgId:`${this.type}${t?`:${t}`:""}:refreshed`,handler:"get",args:u,success:i,failure:r})})()}refresh({id:t,path:e=this.path||this.type,queryParams:o={},retry:i,responseProperty:r=this.getResponseProperty,appendIdToPath:n,timestampKey:a=this.type}={}){return new Promise(((d,c)=>this.get({id:t,mode:s.Z.Server,path:e,queryParams:o,retry:i,success:d,failure:c,responseProperty:r,appendIdToPath:n,timestampKey:a})))}async create(t,e,{path:o=this.path||this.type,mode:i=this.mode}={}){const r=[this.type,t,e];r.push({path:o,mode:i,env:this.getEnv()}),await this.dataSync.sendMessage({handler:"create",args:r})}async update(t,e,{path:o=this.path||this.type,mode:i=this.mode,queryParams:r={},appendIdToPath:s}={}){var n;const a=this.buildQueryString((null===(n=this.queryParams)||void 0===n?void 0:n.update)||{},r),d=[this.type,t,e];d.push({path:o,mode:i,env:this.getEnv(),queryString:a,appendIdToPath:s}),await this.dataSync.sendMessage({handler:"update",args:d})}async delete(t,{path:e=this.path||this.type,mode:o=this.mode}={}){const i=[this.type,t];i.push({path:e,mode:o,env:this.getEnv()}),await this.dataSync.sendMessage({handler:"delete",args:i})}getEnv(){return{token:localStorage.getItem("token"),clientUuid:localStorage.getItem("client_uuid"),apiUrl:m.globals.urlRootApi,version:m.globals.version,tabId:i.Z}}buildQueryString(...t){const e=t.reduce(((t,e)=>({...e,...t})),{}),o=new URLSearchParams(e).toString();return o?"?"+o:""}}},67652:(t,e,o)=>{"use strict";var i;o.d(e,{Z:()=>r}),function(t){t.Sync="sync",t.Cache="cache",t.Server="server",t.Timestamp="timestamp"}(i||(i={}));const r=i},78492:(t,e,o)=>{"use strict";o.d(e,{Z:()=>s});var i=function(){var t=this;return(0,t._self._c)("p",{class:["base-dropdown-text",{title:t.isTitle}]},[t._t("default")],2)};i._withStripped=!0;const r={name:"BaseDropdownText",props:{isTitle:{type:Boolean,default:!1}}};o(18359);const s=(0,o(51900).Z)(r,i,[],!1,null,"d3fdffb8",null).exports},3577:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>ye});var i=function(){var t=this,e=t._self._c;return e("app-popup",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeEditorDropdowns,expression:"closeEditorDropdowns"}],ref:"popup",staticClass:"notes-app",class:{"sidebar-open":t.sidebarOpen},attrs:{position:"top-left",region:"bottom-right",width:t.condensed?750:950,fullscreen:t.fullscreen,"hide-apps-exclusions":".apps .notes","data-test":"notes-app",focused:t.viewStateStore.focused},on:{close:t.closePopup},nativeOn:{click:function(e){return t.viewStateStore.focus()}},scopedSlots:t._u([{key:"default",fn:function({showFullscreenElements:i}){return[e("transition",{attrs:{name:"fade",mode:"out-in",duration:"100"}},[t.loading&&!t.loaded?e("app-loading"):t.error?e("app-empty",{attrs:{title:"Oops! Something went wrong",description:"Please reload the tab and try again"}}):t.loaded?e("div",{staticClass:"app-content"},[e("app-view-switch-static",{staticClass:"list-switcher",attrs:{"order-key":t.activeView.order,"data-test":"list-view"}},[t.deletedListActive?t.deletedListActive?e("app-view",{staticClass:"list deleted-list",scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{scopedSlots:t._u([{key:"left",fn:function(){return[e("app-header-control",{on:{click:function(e){return t.setActiveView("list")}}},[e("inline-svg",{staticClass:"icon icon-back",attrs:{src:o(86043)}})],1)]},proxy:!0},{key:"center",fn:function(){return[t._v("\n\t\t\t\t\t\t\t\t\tDeleted\n\t\t\t\t\t\t\t\t")]},proxy:!0}],null,!0)})]},proxy:!0},{key:"body",fn:function(){return[e("div",{staticClass:"deleted-description"},[t._v("\n\t\t\t\t\t\t\t\tAutomatically removed "),e("br"),t._v(" after 2 weeks\n\t\t\t\t\t\t\t")]),t._v(" "),e("base-item-list",t._l(t.notesStore.getDeletedItems,(function(o){return e("note-list-item",{key:o.id,attrs:{active:t.activeNoteId===o.id,note:o},nativeOn:{click:function(e){t.activeNoteId=o.id}}})})),1)]},proxy:!0}],null,!0)}):t._e():e("app-view",{staticClass:"list notes-list",scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{attrs:{"show-close-button-on":t.AppHeaderCloseOn.None}},[e("app-search",{ref:"search",on:{enter:t.toggleSearchFocused,up:t.setNotePrev,down:t.setNoteNext,focus:function(e){t.searchFocused=!0},blur:function(e){t.searchFocused=!1}},model:{value:t.searchString,callback:function(e){t.searchString=e},expression:"searchString"}}),t._v(" "),e("base-dropdown",{attrs:{"container-class":"app"}},[e("base-dropdown-option",{on:{click:function(e){return t.setActiveView("deleted")}}},[e("inline-svg",{staticClass:"icon icon-trash",attrs:{src:o(90042)}}),t._v("\n\t\t\t\t\t\t\t\t\t\tDeleted\n\t\t\t\t\t\t\t\t\t")],1),t._v(" "),e("base-dropdown-divider"),t._v(" "),e("base-dropdown-option",{on:{click:t.openHelpPage}},[e("inline-svg",{staticClass:"icon icon-help",attrs:{src:o(16963)}}),t._v("\n\t\t\t\t\t\t\t\t\t\tHelp\n\t\t\t\t\t\t\t\t\t")],1),t._v(" "),e("base-dropdown-option",{on:{click:t.openMarkdownGuide}},[e("inline-svg",{staticClass:"icon icon-help",attrs:{src:o(16963)}}),t._v("\n\t\t\t\t\t\t\t\t\t\tMarkdown guide\n\t\t\t\t\t\t\t\t\t")],1)],1)],1)]},proxy:!0},{key:"body",fn:function(){return[e("base-item-list",{ref:"notesList"},t._l(t.notes,(function(o){return e("lazy-render",{key:o.id,attrs:{"placeholder-height":"2.3rem"}},[e("note-list-item",{attrs:{active:t.activeNoteId===o.id,note:o},nativeOn:{click:function(e){t.activeNoteId=o.id}}})],1)})),1)]},proxy:!0}],null,!0)})],1),t._v(" "),e("app-view",{staticClass:"note-detail",attrs:{overlay:t.condensed&&t.sidebarOpen},on:{overlayClick:function(e){t.sidebarOpen=!1}},scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{attrs:{"show-close-button-on":i?t.AppHeaderCloseOn.All:t.AppHeaderCloseOn.Mobile},on:{close:t.closePopup},scopedSlots:t._u([{key:"left",fn:function(){return[e("app-header-control",{staticClass:"sidebar-toggle",attrs:{"data-test":"toggle-fullscreen-list-view"},on:{click:t.toggleSidebar}},[e("inline-svg",{staticClass:"icon icon-sidebar",attrs:{src:o(49157)}})],1),t._v(" "),e("notes-header-ai",{attrs:{disabled:t.deletedListActive||t.notesEditorStore.bodyEmpty,"active-note":t.activeNote}})]},proxy:!0},{key:"center",fn:function(){return[e("span",{staticClass:"last-edited-title"},[t._v(t._s(t.activeNoteLastUpdatedDateString))])]},proxy:!0},{key:"right",fn:function(){return[e("app-header-control",{staticClass:"new",attrs:{"data-test":"new-note"},on:{click:t.createNote}},[e("inline-svg",{staticClass:"icon icon-plus",attrs:{src:o(76450)}})],1),t._v(" "),t.deletedListActive?e("app-header-control",{staticClass:"restore",attrs:{disabled:!t.activeNote},on:{click:t.restoreNote}},[e("inline-svg",{staticClass:"icon icon-restore",attrs:{src:o(42944)}})],1):e("base-dropdown",{ref:"delete-dropdown",class:{disabled:!t.activeNote},attrs:{"container-class":"app","data-test":"delete",alignment:t.DropdownAlignment.Right,"max-width":"250px"},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"icon-wrapper more-toggle"},[e("inline-svg",{staticClass:"icon icon-trash",attrs:{src:o(90042)}})],1)]},proxy:!0},{key:"contentOverride",fn:function(){return[e("base-dropdown-content",{staticClass:"delete-confirm"},[e("div",{staticClass:"text"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\tAre you sure you would like to delete this note?\n\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),e("div",{staticClass:"buttons"},[e("div",{staticClass:"button button-confirm",attrs:{"data-test":"confirm-delete"},on:{click:t.deleteNote}},[t._v("Yes")]),t._v(" "),e("div",{staticClass:"button button-neutral",on:{click:t.closeDeleteConf}},[t._v("No")])])])]},proxy:!0}],null,!0)}),t._v(" "),t.$touch?t._e():[t.fullscreen?e("app-header-control",{staticClass:"fullscreen u--mobile-hide",attrs:{"data-test":"toggle-fullscreen"},on:{click:t.exitFullscreen}},[e("inline-svg",{staticClass:"icon icon-collapse",attrs:{src:o(96044)}})],1):e("app-header-control",{staticClass:"fullscreen u--mobile-hide",attrs:{"data-test":"toggle-fullscreen"},on:{click:t.enterFullscreen}},[e("inline-svg",{staticClass:"icon icon-expand",attrs:{src:o(16811)}})],1)]]},proxy:!0}],null,!0)})]},proxy:!0},{key:"body",fn:function(){return[t.empty?e("app-empty",t._b({on:{buttonClick:function(e){t.deletedListActive?t.setActiveView("list"):t.createNote()}}},"app-empty",t.emptyStateProps,!1)):e("notes-editor",{ref:"notes-editor",attrs:{"focus-on-created":!t.searchFocused}})]},proxy:!0}],null,!0)})],1):t._e()],1)]}}])})};i._withStripped=!0;var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-view-switch app-view-switch-static",class:{transitioning:t.transitionActive}},[e("transition",{attrs:{name:t.transitionType,duration:300},on:{beforeLeave:t.beforeTransition,beforeEnter:t.beforeTransition,afterEnter:t.afterTransition}},[e("div",{key:t.orderKey},[t._t("default")],2)])],1)};r._withStripped=!0;const s={name:"AppViewSwitch",mixins:[o(52559).Z]};o(93416);var n=o(51900);const a=(0,n.Z)(s,r,[],!1,null,"4b11beca",null).exports;var d=o(51545),c=o(63420),l=o(24871),p=o(21325),h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"note-list-item",class:{active:t.active},attrs:{"data-test":"list-item"}},[e("div",{staticClass:"note-list-item-title",attrs:{"data-test":"list-title"}},[t._v("\n\t\t"+t._s(t.titlePreview)+"\n\t")])])};h._withStripped=!0;var u=o(55806);const v={name:"NoteListItem",props:{note:{type:Object,required:!0},active:{type:Boolean,required:!0}},computed:{titlePreview(){return this.note.preview.slice(0,u.aH)}}};o(97042);const g=(0,n.Z)(v,h,[],!1,null,"2a753d38",null).exports;var f=o(85407),y=o(63892),b=o(14582),w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-search"},[e("div",{staticClass:"search-wrapper"},[e("span",{staticClass:"input-wrapper"},[e("i",{staticClass:"icon icon-search"}),t._v(" "),t.value.length?e("span",{staticClass:"icon-clear-wrapper",on:{click:t.clear}},[e("inline-svg",{staticClass:"icon icon-clear",attrs:{src:o(21794)}})],1):t._e(),t._v(" "),e("input",{ref:"search",staticClass:"search-input notes-search",attrs:{type:"text",name:"search","data-test":"search-input",placeholder:"Search",autocomplete:"off"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.stopPropagation(),e.preventDefault(),t.$emit("up"))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.stopPropagation(),e.preventDefault(),t.$emit("down"))}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.stopPropagation(),t.clearAndBlur.apply(null,arguments))},focus:t.onFocus,blur:t.onBlur}})])])])};w._withStripped=!0;const S={name:"AppSearch",props:{value:{type:String,required:!0}},emits:["input","enter","blur","focus","up","down"],methods:{clear(){this.$emit("input",""),this.focus()},clearAndBlur(){this.$emit("input",""),this.$refs.search.blur()},focus(){this.$refs.search.focus()},select(){this.$refs.search.select()},onFocus(){this.$emit("focus")},onBlur(){this.$emit("blur")}}};o(826);const k=(0,n.Z)(S,w,[],!1,null,"32d271ec",null).exports;var x=o(96046),_=o(39226),A=o(73509),N=o(93287),D=o(16618),C=o(55879),L=o(80766),P=function(){var t=this,e=t._self._c;return e("div",{ref:"notes-editor",staticClass:"notes-editor"},[t.restoreBannerActive?e("div",{staticClass:"message"},[t._v("\n\t\tRestore this note to edit.\n\t\t"),e("span",{staticClass:"button restore-note",on:{click:t.restore}},[t._v("Restore")])]):t._e(),t._v(" "),e("editor-content",{ref:"editor-content",staticClass:"editor",attrs:{"data-test":"editor",editor:t.editorStore.editor}}),t._v(" "),t.activeNote.deleted?t._e():[e("notes-editor-toolbar"),t._v(" "),e("notes-editor-ai",{attrs:{"active-note":t.activeNote}}),t._v(" "),e("notes-editor-link-suggestion")]],2)};P._withStripped=!0;var T=o(45757),E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"notes-editor-toolbar"},[e("base-dropdown",{ref:"notes-editor-toolbar-default",staticClass:"notes-editor-toolbar-default",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:t.DropdownAlignment.Center,position:t.DropdownPosition.Top,"scroll-target":t.notesEditorElement,"use-toast-mobile":!1},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"notes-editor-toolbar-default-toggle"})]},proxy:!0}])},[t._v(" "),e("template",{slot:"contentOverride"},[e("base-dropdown-content",{staticClass:"notes-editor-toolbar-default-content"},[e("notes-editor-toolbar-button",{attrs:{title:"Bold",active:t.editorStore.controlStates.bold,icon:"icon/notes/bold"},on:{click:t.editorStore.toggleBold}}),t._v(" "),e("notes-editor-toolbar-button",{attrs:{title:"Italic",active:t.editorStore.controlStates.italic,icon:"icon/notes/italic"},on:{click:t.editorStore.toggleItalic}}),t._v(" "),e("notes-editor-toolbar-button",{attrs:{title:"Strikethrough",active:t.editorStore.controlStates.strike,icon:"icon/notes/strikethrough"},on:{click:t.editorStore.toggleStrike}}),t._v(" "),e("notes-editor-toolbar-button",{attrs:{title:"Highlight",active:t.editorStore.controlStates.highlight,icon:"icon/notes/highlight"},on:{click:t.editorStore.toggleHighlight}}),t._v(" "),e("notes-editor-toolbar-button",{attrs:{title:"Insert link",active:t.editorStore.controlStates.link,icon:"icon/notes/link"},on:{click:t.editLink}}),t._v(" "),e("notes-editor-toolbar-divider"),t._v(" "),e("notes-editor-toolbar-button",{attrs:{title:"Large heading",active:t.editorStore.controlStates.heading[1].value,icon:"icon/notes/h1"},on:{click:function(e){return t.editorStore.toggleHeading(1)}}}),t._v(" "),e("notes-editor-toolbar-button",{attrs:{title:"Medium heading",active:t.editorStore.controlStates.heading[2].value,icon:"icon/notes/h2"},on:{click:function(e){return t.editorStore.toggleHeading(2)}}}),t._v(" "),e("notes-editor-toolbar-button",{attrs:{title:"Bulleted list",active:t.editorStore.controlStates.bulletList,icon:"icon/notes/list"},on:{click:t.editorStore.toggleBulletList}}),t._v(" "),e("notes-editor-toolbar-divider"),t._v(" "),e("notes-editor-toolbar-button",{attrs:{title:"Link Note",icon:"icon/internal-link"},on:{click:t.openNoteLinking}}),t._v(" "),e("notes-editor-toolbar-divider"),t._v(" "),e("notes-editor-toolbar-button",{attrs:{title:"Use AI",icon:"icon/ai"},on:{click:t.openAi}})],1)],1)],2),t._v(" "),e("base-dropdown",{ref:"notes-editor-toolbar-link",staticClass:"notes-editor-toolbar-link",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:t.DropdownAlignment.Center,position:t.DropdownPosition.Bottom,"scroll-target":t.notesEditorElement,"use-toast-mobile":!1,width:"14.5rem"},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"notes-editor-toolbar-link-toggle"})]},proxy:!0}])},[t._v(" "),e("template",{slot:"contentOverride"},[e("base-dropdown-content",{staticClass:"notes-editor-toolbar-link-content"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.linkUrl,expression:"linkUrl"}],ref:"link-input",attrs:{placeholder:"Paste link"},domProps:{value:t.linkUrl},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setLink.apply(null,arguments)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.stopPropagation(),t.setLink.apply(null,arguments))},input:function(e){e.target.composing||(t.linkUrl=e.target.value)}}})])],1)],2)],1)};E._withStripped=!0;var O=function(){var t=this,e=t._self._c;return e("button",{staticClass:"notes-editor-toolbar-button icon-wrapper",class:{active:t.active},attrs:{title:t.title},on:{click:function(e){return t.$emit("click",e)}}},[e("inline-svg",{staticClass:"icon icon-toolbar",attrs:{src:o(6793)(`./${t.icon}.svg`)}})],1)};O._withStripped=!0;const M={name:"NotesEditorToolbarButton",props:{icon:{type:String,required:!0},active:{type:Boolean,default:!1},title:{type:String,required:!0}},emits:["click"]};o(69018);const I=(0,n.Z)(M,O,[],!1,null,"0f8e676a",null).exports;var Z=function(){return(0,this._self._c)("div",{staticClass:"notes-editor-toolbar-divider"})};Z._withStripped=!0;o(18146);const B=(0,n.Z)({name:"NotesEditorToolbarDivider"},Z,[],!1,null,"12fb7d90",null).exports;var V,H=o(95756);!function(t){t.ToolbarDefault="hidden",t.ToolbarLink="toolbarLink",t.AiActions="actions",t.AiHistory="history"}(V||(V={}));const $=(0,H.vM)("notesEditor",{views:{[V.ToolbarDefault]:{defaultView:!0},[V.ToolbarLink]:{},[V.AiActions]:{},[V.AiHistory]:{}}}),U={name:"NotesEditorToolbar",components:{BaseDropdownContent:L.Z,NotesEditorToolbarDivider:B,NotesEditorToolbarButton:I,BaseDropdown:N.Z},inject:["editorViewStateStore","viewStateStore","editorStore","notesEditorElement"],unreactive:()=>({DropdownPosition:C.ir,DropdownAlignment:C.oA}),data:()=>({linkUrl:""}),computed:{defaultVisible(){return this.editorViewStateStore.activeViewId===V.ToolbarDefault},linkVisible(){return this.editorViewStateStore.activeViewId===V.ToolbarLink},selectedText(){return this.editorStore.selectedText}},watch:{defaultVisible(){this.defaultVisible||this.closeDefaultDropdown(),this.openDefaultDropdownDebounce()},linkVisible(){this.linkVisible?(this.openLinkDropdown(),this.$nextTick().then((()=>this.$refs["link-input"].select()))):this.closeLinkDropdown()},linkUrl(){if(!this.linkUrl)return void this.editorStore.editor.chain().unsetLink().run();const t=(this.linkUrl.startsWith("http://")||this.linkUrl.startsWith("https://")?"":"https://")+this.linkUrl;this.editorStore.editor.chain().setLink({href:t}).run()}},mounted(){this.editorStore.editor.on("selectionUpdate",this.onSelectionUpdate)},destroyed(){this.editorStore.editor.off("selectionUpdate",this.onSelectionUpdate)},methods:{onSelectionUpdate(){this.closeLinkDropdown(),this.closeDefaultDropdown(),this.editorViewStateStore.setActiveView(V.ToolbarDefault),this.openDefaultDropdownDebounce(),m.off("globalEvent:metaK",this.editOrSetLink),this.selectedText&&m.on("globalEvent:metaK",this.editOrSetLink)},editLink(){this.linkUrl=this.editorStore.editor.getAttributes("link").href??"",this.editorViewStateStore.setActiveView(V.ToolbarLink)},setLink(){this.editorStore.editor.commands.focus(),this.editorViewStateStore.setActiveView(V.ToolbarDefault)},editOrSetLink(){this.editorViewStateStore.activeViewId===V.ToolbarLink?this.setLink():this.editLink()},openDefaultDropdown(){this.$refs["notes-editor-toolbar-default"].openDropdown()},openDefaultDropdownDebounce(){clearTimeout(this.defaultDropdownDebounce),this.defaultDropdownDebounce=setTimeout((()=>{this.selectedText&&this.defaultVisible&&this.editorStore.editor.state.selection.$from.parent.type.name!==u.Zh&&this.openDefaultDropdown()}),u.an)},closeDefaultDropdown(){this.$refs["notes-editor-toolbar-default"].closeDropdown()},openLinkDropdown(){this.$refs["notes-editor-toolbar-link"].openDropdown()},closeLinkDropdown(){this.$refs["notes-editor-toolbar-link"].closeDropdown()},openAi(){this.closeDefaultDropdown(),this.editorViewStateStore.setActiveView(V.AiActions)},openNoteLinking(){this.closeDefaultDropdown(),this.editorStore.editor.commands.openLinkSuggestionAtSelection()}}};o(56715);const R=(0,n.Z)(U,E,[],!1,null,"4593ad14",null).exports;var z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"notes-editor-ai"},[e("notes-ai-history",{ref:"notes-ai-history",attrs:{"scroll-target":t.notesEditorElement},on:{close:t.setToolbarActive}}),t._v(" "),e("notes-ai-actions",{ref:"notes-ai-actions",attrs:{"scroll-target":t.notesEditorElement,"active-note":t.activeNote},on:{"action:history":t.setHistoryActive}})],1)};z._withStripped=!0;var q=function(){var t,e=this,i=e._self._c;return i("base-dropdown",{ref:"notes-ai-history",staticClass:"notes-ai-history",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:e.alignment,position:e.DropdownPosition.Bottom,"scroll-target":e.scrollTarget,"bound-scroll-x":!0,"use-toast-mobile":!1,width:"28rem"},on:{toggle:e.onToggle},scopedSlots:e._u([{key:"toggle",fn:function(){return[i("div",{staticClass:"notes-ai-history-toggle"})]},proxy:!0}])},[e._v(" "),i("template",{slot:"contentOverride"},[i("base-dropdown-content",{staticClass:"notes-ai-history-content"},[i("div",{staticClass:"history-header"},[i("span",[e._v(e._s(e.aiStore.activeActionLabel))]),e._v(" "),i("button",{staticClass:"icon-wrapper",on:{click:e.closeAi}},[i("inline-svg",{staticClass:"icon icon-close",attrs:{src:o(21794)}})],1)]),e._v(" "),i("base-dropdown-divider"),e._v(" "),i("div",{staticClass:"history-body"},[i("smooth-reflow",{attrs:{"hide-overflow":!0}},[i("div",{staticClass:"history-body-result"},[e.aiStore.loading||e.error?i("span",{staticClass:"history-body-result-loading",attrs:{"data-test":"ai-history-loading"}},[e._v(e._s(e.aiStore.loading?"Loading...":e.error.message??""))]):i("div",{staticClass:"history-body-result-content",attrs:{"data-test":"ai-history-content"},domProps:{innerHTML:e._s(e.activeHistoryData.result)}})])]),e._v(" "),i("smooth-reflow",[!e.aiStore.loading&&null!==(t=e.activeHistoryData)&&void 0!==t&&t.brokenLinks?i("div",{staticClass:"history-ai-links-warning",attrs:{"data-test":"ai-links-warning"}},[i("inline-svg",{staticClass:"icon icon-info",attrs:{src:o(70444)}}),e._v(" "),i("span",[e._v("Links to Notes may be added or removed due to AI")])],1):e._e()]),e._v(" "),i("transition",{attrs:{name:"fade"}},[e.error?i("div",{staticClass:"history-body-actions"},[i("button",{key:"retry",staticClass:"button",on:{click:e.reRunRequest}},[e._v("Retry")])]):i("div",{staticClass:"history-body-actions",class:{disabled:e.aiStore.loading}},[i("button",{key:"replace",staticClass:"button",on:{click:e.replaceText}},[e._v("Replace")]),e._v(" "),i("button",{key:"insert",staticClass:"button",on:{click:e.insertText}},[e._v("Insert")]),e._v(" "),i("button",{key:"copy",staticClass:"button button-neutral",on:{click:e.copyText}},[e._v("Copy")]),e._v(" "),i("button",{key:"rerun",staticClass:"button button-neutral",on:{click:e.reRunRequest}},[e._v("Re-run")])])])],1)],1)],1)],2)};q._withStripped=!0;var F=o(92580),j=o(36399),K=o(65547),W=o(81405),X=o(18030);const Q=new W.ZP({feature:u.XE.Feature}),G={name:"NotesAiHistory",components:{BaseDropdown:N.Z,SmoothReflow:j.Z,BaseDropdownContent:L.Z,BaseDropdownDivider:F.Z},mixins:[X.Z],inject:["editorViewStateStore","editorStore","aiStore"],props:{scrollTarget:K.Z.props.scrollTarget,alignment:{type:String,default:C.oA.Center},appendToEnd:{type:Boolean,default:!1}},emits:["close","toggle"],unreactive:()=>({DropdownPosition:C.ir,NotesMessage:u.LQ}),computed:{activeHistoryData(){return this.aiStore.activeHistoryData},error(){return this.aiStore.error}},watch:{error:{handler(){this.error&&Q.capture(u.XE.ActionError,{type:this.aiStore.activeActionLabel})},immediate:!0}},methods:{async closeAi(){this.$emit("close"),this.aiStore.reset()},replaceText(){const{from:t,to:e}=this.editorStore.selection;this.appendToEnd?this.editorStore.setContent(this.editorStore.getTitleContent(),this.activeHistoryData.result,!1):this.editorStore.editor.chain().insertContentAt(e,this.activeHistoryData.result).deleteRange({from:t,to:e}).focus().run(),this.closeAi()},insertText(){const{to:t}=this.editorStore.selection,e=this.editorStore.editor.state.doc.content.size;this.appendToEnd?this.editorStore.editor.chain().insertContentAt(e,this.activeHistoryData.result).focus().run():this.editorStore.editor.chain().insertContentAt(t+1,this.activeHistoryData.result).focus().run(),this.closeAi()},copyText(){navigator.clipboard.writeText(this.activeHistoryData.result),this.showFlashMessage({message:"Copied to Clipboard."})},async reRunRequest(){await this.aiStore.runActiveRequest()},openDropdown(){this.$refs["notes-ai-history"].openDropdown(),Q.capture(u.XE.OpenHistory)},closeDropdown(){this.$refs["notes-ai-history"].closeDropdown()},onToggle(t){this.$emit("toggle",t),!1===t&&this.aiStore.reset()}}};o(86370);const J=(0,n.Z)(G,q,[],!1,null,"00fae5e6",null).exports;var Y=function(){var t=this,e=t._self._c;return e("base-dropdown",{ref:"notes-ai-actions",staticClass:"notes-ai-actions",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:t.alignment,position:t.DropdownPosition.Bottom,"scroll-target":t.scrollTarget,"bound-scroll-x":!0,"use-toast-mobile":!1},on:{toggle:function(e){return t.$emit("toggle",e)}},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"notes-ai-actions-toggle"})]},proxy:!0}])},[t._v(" "),t.useAiHeader?e("base-dropdown-text",{attrs:{"is-title":!0}},[t._v("Ask AI to...")]):t._e(),t._v(" "),e("base-dropdown-option",{attrs:{"data-test":"ai-action-spelling"},on:{click:t.fixSpellingAndGrammar}},[t._v(t._s(t.NoteAiAction.FixSpellingGrammar))]),t._v(" "),e("base-dropdown-option",{on:{click:t.simplify}},[t._v(t._s(t.NoteAiAction.Simplification))]),t._v(" "),e("base-dropdown-option",{on:{click:t.improveWriting}},[t._v(t._s(t.NoteAiAction.ImproveWriting))]),t._v(" "),e("base-dropdown-divider"),t._v(" "),e("base-dropdown-option",{on:{click:t.summarize}},[t._v(t._s(t.NoteAiAction.Summary))]),t._v(" "),e("base-dropdown-option",{on:{click:t.expand}},[t._v(t._s(t.NoteAiAction.Expansion))]),t._v(" "),e("base-dropdown-option",{on:{click:t.listActionItems}},[t._v(t._s(t.NoteAiAction.ActionItems))]),t._v(" "),e("base-dropdown-divider"),t._v(" "),e("base-dropdown-option",{on:{click:t.getOutline}},[t._v(t._s(t.NoteAiAction.Outline))]),t._v(" "),e("base-dropdown-option",{on:{click:t.getJournalPrompts}},[t._v(t._s(t.NoteAiAction.JournalPrompts))]),t._v(" "),e("base-dropdown-divider"),t._v(" "),e("base-dropdown",{attrs:{position:t.DropdownPosition.Right,alignment:t.DropdownAlignment.Center,nipple:!1,"position-offset":-2,disabled:!t.aiStore.languages.loaded},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("base-dropdown-option",{attrs:{disabled:!t.aiStore.languages.loaded}},[t._v(t._s(t.NoteAiAction.Translation))])]},proxy:!0}])},[t._v(" "),t._l(t.orderedLanguages,(function(o){return e("base-dropdown-option",{key:o.id,on:{click:function(e){return t.translateText(o.id)}}},[t._v("\n\t\t\t"+t._s(o.name)+"\n\t\t")])}))],2)],1)};Y._withStripped=!0;var tt=o(78492);const et=new W.ZP({feature:u.XE.Feature}),ot={name:"NotesAiActions",components:{BaseDropdownDivider:F.Z,BaseDropdownOption:_.Z,BaseDropdown:N.Z,BaseDropdownText:tt.Z},mixins:[X.Z],inject:["editorStore","aiStore"],props:{scrollTarget:K.Z.props.scrollTarget,useAiHeader:{type:Boolean,default:!0},activeNote:{type:Object,required:!0},alignment:{type:String,default:C.oA.Center}},emits:["action:history","toggle"],computed:{orderedLanguages(){return[...this.aiStore.languages.data].sort(((t,e)=>t.name.localeCompare(e.name,"en")))},actionSelectedText(){return this.editorStore.selectedHTML||this.editorStore.getBodyHTMLContent(!0)}},unreactive:()=>({DropdownPosition:C.ir,DropdownAlignment:C.oA,NoteAiAction:u.UO}),async mounted(){await this.getLanguages()},methods:{async summarize(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:u.UO.Summary,data:{selectedText:this.actionSelectedText}}),this.onAction(u.UO.Summary)},async improveWriting(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:u.UO.ImproveWriting,data:{selectedText:this.actionSelectedText}}),this.onAction(u.UO.ImproveWriting)},async listActionItems(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:u.UO.ActionItems,data:{selectedText:this.actionSelectedText}}),this.onAction(u.UO.ActionItems)},async fixSpellingAndGrammar(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:u.UO.FixSpellingGrammar,data:{selectedText:this.actionSelectedText}}),this.onAction(u.UO.FixSpellingGrammar)},async simplify(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:u.UO.Simplification,data:{selectedText:this.actionSelectedText}}),this.onAction(u.UO.Simplification)},async expand(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:u.UO.Expansion,data:{selectedText:this.actionSelectedText}}),this.onAction(u.UO.Expansion)},async getOutline(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:u.UO.Outline,data:{selectedText:this.actionSelectedText}}),this.onAction(u.UO.Outline)},async getJournalPrompts(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:u.UO.JournalPrompts,data:{selectedText:this.actionSelectedText}}),this.onAction(u.UO.JournalPrompts)},async translateText(t){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:u.UO.Translation,data:{selectedText:this.actionSelectedText,languageId:t}}),this.onAction(u.UO.Translation)},async getLanguages(){try{await this.aiStore.getLanguages()}catch(t){this.aiStore.languages.loading=!1,this.showFlashMessage({error:!0,message:u.LQ.ErrorFetchLanguages})}},onAction(t){et.capture(u.XE.Action,{type:t})},openDropdown(){this.$refs["notes-ai-actions"].openDropdown(),et.capture(u.XE.OpenActions)},closeDropdown(){this.$refs["notes-ai-actions"].closeDropdown()}}};o(89089);const it=(0,n.Z)(ot,Y,[],!1,null,"0ab556e4",null).exports,rt={name:"NotesEditorAi",components:{NotesAiActions:it,NotesAiHistory:J},inject:["editorViewStateStore","viewStateStore","aiStore","notesEditorElement"],props:{activeNote:{type:Object,required:!0}},computed:{actionsVisible(){return this.editorViewStateStore.activeViewId===V.AiActions},historyVisible(){return this.editorViewStateStore.activeViewId===V.AiHistory}},watch:{actionsVisible(){this.actionsVisible?this.openActionsDropdown():this.closeActionsDropdown()},historyVisible(){this.historyVisible?this.openHistoryDropdown():this.closeHistoryDropdown()}},methods:{openHistoryDropdown(){this.$refs["notes-ai-history"].openDropdown()},closeHistoryDropdown(){this.$refs["notes-ai-history"].closeDropdown()},openActionsDropdown(){this.$refs["notes-ai-actions"].openDropdown()},closeActionsDropdown(){this.$refs["notes-ai-actions"].closeDropdown()},async setHistoryActive(){await this.editorViewStateStore.setActiveView(V.AiHistory)},async setToolbarActive(){await this.editorViewStateStore.setActiveView(V.ToolbarDefault)}}};o(22054);const st=(0,n.Z)(rt,z,[],!1,null,"6a5d9321",null).exports;var nt=function(){var t=this,e=t._self._c;return e("base-dropdown",{ref:"dropdown",staticClass:"notes-editor-link-suggestion",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:t.DropdownAlignment.Left,position:t.DropdownPosition.Bottom,"nipple-alignment-offset":16,"scroll-target":t.notesEditorElement,"use-toast-mobile":!1,"max-width":"15rem","container-data-test":"link-suggestion-container"},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"notes-editor-link-suggestion-toggle"})]},proxy:!0}])},[t._v(" "),t.itemsVisible?[e("base-dropdown-text",{attrs:{"is-title":""}},[t._v("\n\t\t\tLink to note\n\t\t")]),t._v(" "),t._l(t.items,(function(i,r){return e("base-dropdown-option",{key:i.id,attrs:{active:t.activeOptionIndex===r,"data-test":"existing-suggestion"},on:{click:function(e){return t.selectNote(i)}}},[e("inline-svg",{staticClass:"icon icon-note",attrs:{src:o(22870)}}),t._v(" "),e("span",{staticClass:"u--text-no-wrap"},[t._v(t._s(i.preview))])],1)}))]:t._e(),t._v(" "),t.itemsVisible&&t.newNoteOptionVisible?e("base-dropdown-divider"):t._e(),t._v(" "),t.newNoteOptionVisible?[e("base-dropdown-text",{attrs:{"is-title":""}},[t._v("\n\t\t\tNew note\n\t\t")]),t._v(" "),e("base-dropdown-option",{attrs:{active:t.activeOptionIndex===t.items.length},on:{click:function(e){return t.createNewNote()}}},[e("inline-svg",{staticClass:"icon icon-plus",attrs:{src:o(76450)}}),t._v(" "),e("span",{staticClass:"u--text-no-wrap"},[t._v("New note: "+t._s(t.query))])],1)]:t._e(),t._v(" "),t.itemsVisible||t.newNoteOptionVisible?t._e():[e("base-dropdown-text",[t._v("\n\t\t\tNo notes found\n\t\t")])]],2)};nt._withStripped=!0;var at=o(20144),dt=o(73845),ct=o(92293),lt=o(93237),pt=o(63354),ht=o(87605),ut=o(76484),vt=o(2376);const gt=o(25748).b.extend({addInputRules(){return[new dt.VK({find:/^(?:---|-|___\s|\*\*\*\s)$/,handler:({state:t,range:e})=>{const{tr:o}=t,i=e.from,r=e.to;o.insert(i-1,this.type.create({})).delete(o.mapping.map(i),o.mapping.map(r))}})]}});var ft=o(67937);const yt=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,mt=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,bt=ft.d8.extend({addInputRules(){return[(0,dt.Cf)({find:yt,type:this.type})]},addPasteRules(){return[(0,dt.K9)({find:mt,type:this.type})]}});var wt=o(73816);const St=/(?:^|\s)((?:\/)((?:[^/]+))(?:\/))$/,kt=/(?:^|\s)((?:\/)((?:[^/]+))(?:\/))/g,xt=wt.Tx.extend({addInputRules(){return[(0,dt.Cf)({find:St,type:this.type})]},addPasteRules(){return[(0,dt.K9)({find:kt,type:this.type})]}});var _t=o(50601);const At=/(?:^|\s)((?:=)((?:[^~=]+))(?:=))$/,Nt=/(?:^|\s)((?:=)((?:[^~=]+))(?:=))/g,Dt=_t.y$.extend({addInputRules(){return[(0,dt.Cf)({find:At,type:this.type})]},addPasteRules(){return[(0,dt.K9)({find:Nt,type:this.type})]}});var Ct=o(48510);const Lt=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,Pt=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,Tt=Ct.v.extend({addInputRules(){return[(0,dt.Cf)({find:Lt,type:this.type})]},addPasteRules(){return[(0,dt.K9)({find:Pt,type:this.type})]}});var Et=o(4281);const Ot=/(?:^|\s)((?:~)((?:[^~]+))(?:~))$/,Mt=/(?:^|\s)((?:~)((?:[^~]+))(?:~))/g,It=Et.Re.extend({addInputRules(){return[(0,dt.Cf)({find:Ot,type:this.type})]},addPasteRules(){return[(0,dt.K9)({find:Mt,type:this.type})]}});var Zt=o(3098);const Bt=o(20336).B.extend({content:`${u.Zh} block*`});var Vt=o(7490),Ht=function(){var t=this,e=t._self._c;return e("node-view-wrapper",{ref:"nodeViewWrapper",staticClass:"notes-editor-title-node-view"},[e("node-view-content",{staticClass:"title",attrs:{as:"h1","data-placeholder":t.placeholder}}),t._v(" "),e("notes-editor-back-links",{attrs:{contenteditable:"false"}})],1)};Ht._withStripped=!0;var $t=function(){var t=this,e=t._self._c;return t.activeNoteBackLinks.length>0?e("div",{staticClass:"notes-editor-back-links",attrs:{"data-test":"note-back-links"}},[e("base-dropdown",{attrs:{hover:!0},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("inline-svg",{staticClass:"icon icon-back-link",attrs:{src:o(55647)}})]},proxy:!0}],null,!1,154415150)},[t._v(" "),e("template",{slot:"contentOverride"},[e("base-dropdown-content",{staticClass:"notes-editor-back-links-tooltip-content"},[e("span",[t._v("Linked to this note")]),t._v(" "),e("a",{attrs:{href:"https://get.momentumdash.help/hc/en-us/articles/17665906818839",target:"_blank"}},[t._v("Learn more")])])],1)],2),t._v(" "),e("div",{staticClass:"notes-editor-back-links-items"},t._l(t.activeNoteBackLinks,(function(o){return e("button",{key:o.id,staticClass:"notes-editor-back-links-item",attrs:{"data-test":"note-back-links-item"},on:{click:function(e){return t.setActiveNote(o)}}},[t._v("\n\t\t\t"+t._s(o.preview)+"\n\t\t")])})),0)],1):t._e()};$t._withStripped=!0;var Ut=o(84722);const Rt={name:"NotesEditorBackLinks",components:{BaseDropdown:N.Z,BaseDropdownContent:L.Z},inject:["activeNote"],setup:()=>({notesStore:(0,d.useNotesStore)(),notesViewStateStore:(0,Ut.V)()}),computed:{activeNoteBackLinks(){return this.notesStore.getBackLinks[this.activeNote.linkKey]??[]}},methods:{setActiveNote(t){t.deleted?this.notesViewStateStore.setActiveView("deleted"):this.notesViewStateStore.setActiveView("list"),this.notesStore.activeItemId=t.id}}};o(70164);const zt={name:"NotesEditorTitleBackLinks",components:{NotesEditorBackLinks:(0,n.Z)(Rt,$t,[],!1,null,"71515374",null).exports,NodeViewWrapper:T.T5,NodeViewContent:T.ms},inject:["activeNote"],props:{...T.Un},computed:{placeholder(){return this.activeNote.draft?u.um.New:u.um.None}}};o(59449);const qt=(0,n.Z)(zt,Ht,[],!1,null,"cb7b8dd2",null).exports,Ft=Vt.X.extend({name:u.Zh,content:"text*",marks:"",group:u.Zh,addAttributes:()=>({levels:[1]}),addCommands:()=>({}),addNodeView:()=>(0,T.uf)(qt)});var jt=o(75716);const Kt=(()=>{const t=[lt.V.configure({showOnlyCurrent:!1}),gt,bt,xt,Dt,Tt,It,pt.a,ht.Uf,ut.r],e=[ct.V.configure({document:!1,horizontalRule:!1,dropcursor:!1,bold:!1,italic:!1,strike:!1}),Bt,Ft,Zt.U.configure({transformPastedText:!0}),jt.Z.configure({renderHTMLWithDOMContent:!0}),...t],o=[ct.V.configure({horizontalRule:!1,dropcursor:!1,bold:!1,italic:!1,strike:!1}),jt.Z,...t],i=new T.ML({content:"",editable:!0,extensions:e}),r=(0,c.Q_)("notesEditor",{state:()=>({cursor:{x:"0px",y:"0px",width:"0px",height:"0px",left:"0px",right:"0px",top:"0px"},controlStates:{bold:!1,italic:!1,strike:!1,bulletList:!1,orderedList:!1,heading:{1:{options:{level:1},value:!1},2:{options:{level:2},value:!1}},link:!1,highlight:!1,underline:!1},selection:{from:0,to:0},bodyEmpty:!0}),getters:{editor:()=>i,selectedText(t){var e;const{from:o,to:r}=t.selection;return i.state.selection.from!==o||i.state.selection.to!==r?"":null!==(e=i.state.doc.textBetween(o,r," "))&&void 0!==e?e:""},selectedHTML(t){const{from:e,to:o}=t.selection;return i.state.selection.from!==e||i.state.selection.to!==o?"":(0,dt.d1)(i.state.doc.cut(e,o).content,i.schema)}},actions:{updateSelection(){this.selection=i.state.selection},updateCursorDetails(){const t=(0,dt.pr)(i.view,this.selection.from,this.selection.to),e=i.view.dom.getBoundingClientRect();this.cursor={x:t.x-e.x+"px",y:t.y-e.y+"px",width:`${t.width}px`,height:`${t.height}px`,left:t.left-e.left+"px",right:e.right-t.right+"px",top:t.top-e.top+"px"}},updateControlStates(){Object.entries(this.controlStates).forEach((([t,e])=>{"heading"!==t?this.controlStates[t]=this.editor.isActive(t):Object.values(e).forEach((e=>{e.value=this.editor.isActive(t,e.options)}))}))},updateEditorBodyEmpty(){const t=this.getBodyHTMLContent();this.bodyEmpty=""===t||t===u.Tv.BodyHTML},setContent(t,e,r=!0){var s,n;const a=(0,dt.AW)(e,o),d={type:u.Zh,...t?{content:[{type:"text",text:t}]}:{}};null===(s=a.content)||void 0===s||s.unshift(d),""===e&&(null===(n=a.content)||void 0===n||n.splice(-1,1)),i.commands.setContent(a),r&&this.resetHistory()},getTitleBodyNodes(){const t=i.state.doc.child(0);return[t,i.state.doc.cut(t.nodeSize)]},getTitleContent(){try{const[t]=this.getTitleBodyNodes();return t.textContent}catch(t){return console.log(t),u.Tv.BodyOrTitleText}},getBodyHTMLContent(t=!1){try{const[,e]=this.getTitleBodyNodes();return t?(0,dt.d1)(e.content,i.schema):(0,dt.ar)(e.toJSON(),o)}catch(t){return console.log(t),u.Tv.BodyHTML}},getBodyTextContent(){try{const[,t]=this.getTitleBodyNodes();return t.textContent}catch(t){return console.log(t),u.Tv.BodyOrTitleText}},getLinkedKeys(){const t=new Set;return i.state.doc.descendants((e=>{e.type.name===jt.Z.name&&t.add(e.attrs.key)})),[...t]},resetHistory(){const t=vt.yy.create({doc:i.state.doc,plugins:i.state.plugins,schema:i.state.schema});i.view.updateState(t)},setEditable(t){i.setEditable(t,!1)},updatePlaceholder(){const t=i.extensionManager.extensions.find((t=>"placeholder"===t.name));if(!t)return;const e=null!==(o=u.$g[Math.round(Math.random()*(u.$g.length-1))])&&void 0!==o?o:"";var o;t.options.placeholder=()=>e},resetSelection(){var t;i.commands.setTextSelection(0),null===(t=window.getSelection())||void 0===t||t.removeAllRanges()},ensureAtLeastParagraphInBody(){var t;(null===(t=i.state.doc.lastChild)||void 0===t?void 0:t.type.name)===u.Zh&&i.commands.command((({tr:t,dispatch:e,editor:o})=>{if(!e)return!0;const i=(0,dt.hT)({type:"paragraph"},o.schema);return t.setMeta("addToHistory",!1),t.replaceWith(o.state.doc.content.size,o.state.doc.content.size,i),!0}))},focus(){try{const t=i.state.doc.child(0),e=i.state.doc.cut(t.nodeSize);""===t.textContent&&""===e.textContent?i.commands.focus(0):i.commands.focus(t.nodeSize+1)}catch(t){console.error(t),i.commands.focus()}},blur(){i.commands.blur()},toggleBold(){i.chain().focus().toggleBold().run()},toggleItalic(){i.chain().focus().toggleItalic().run()},toggleStrike(){i.chain().focus().toggleStrike().run()},toggleUnderline(){i.chain().focus().toggleUnderline().run()},toggleHighlight(){i.chain().focus().toggleHighlight().run()},toggleBulletList(){i.chain().focus().toggleBulletList().run()},toggleOrderedList(){i.chain().focus().toggleOrderedList().run()},toggleHeading(t){i.chain().focus().toggleHeading({level:t}).run()},unsetAllMarks(){i.chain().focus().unsetAllMarks().run()},createNoteLink(t,e){i.chain().focus().insertContentAt(e,[{type:jt.Z.name,attrs:{key:t}}]).run()}}}),s=r();return i.on("selectionUpdate",(()=>{s.updateSelection(),s.updateControlStates(),s.updateCursorDetails()})),i.on("update",(()=>{s.updateControlStates(),s.updateCursorDetails(),s.ensureAtLeastParagraphInBody()})),i.on("transaction",(()=>{s.updateEditorBodyEmpty()})),s.updatePlaceholder(),(0,at.YP)(x.Z.windowDimensions,(()=>s.updateCursorDetails()),{deep:!0}),r})();var Wt=o(65550),Xt=o(25786);const Qt={name:"NotesEditorLinkSuggestion",components:{BaseDropdownText:tt.Z,BaseDropdownDivider:F.Z,BaseDropdownOption:_.Z,BaseDropdown:N.Z},inject:["notesEditorElement"],setup:()=>({editorViewStateStore:$(),editorStore:Kt(),notesStore:(0,d.useNotesStore)(),dropdown:(0,at.iH)(),range:null,destroyEscapeEvent:!0,DropdownPosition:C.ir,DropdownAlignment:C.oA}),data:()=>({activeOptionIndex:0,query:null,visible:!1}),computed:{items(){return null===this.query?[]:Object.values(this.notesStore.getItems).filter((t=>t.id!==this.notesStore.activeItemId&&t.preview.toLowerCase().includes(this.query.toLowerCase()))).slice(0,5)},itemsVisible(){return this.items.length>0},newNoteOptionVisible(){return!!this.query},activeNote(){return this.notesStore.getItems[this.notesStore.activeItemId]}},watch:{visible(){this.visible?this.activateSuggestion():this.deactivateSuggestion()},items(){this.activeOptionIndex=0}},mounted(){this.editorStore.editor.on("selectionUpdate",this.updateDropdownPosition),this.editorStore.editor.on("transaction",this.updateDataFromLinkState)},destroyed(){this.editorStore.editor.off("selectionUpdate",this.updateDropdownPosition),this.editorStore.editor.off("transaction",this.updateDataFromLinkState)},methods:{openDropdown(){var t;null===(t=this.dropdown)||void 0===t||t.openDropdown()},closeDropdown(){var t;null===(t=this.dropdown)||void 0===t||t.closeDropdown()},addEvents(){Wt.Z.registerEventListener("setDropdownOptionPrev","keydown",38,(()=>this.setOptionAdjacent(-1))),Wt.Z.registerEventListener("setDropdownOptionNext","keydown",40,(()=>this.setOptionAdjacent(1))),Wt.Z.registerEventListener("selectOrCreateOption","keydown",13,this.selectOrCreateNoteAtOption),Wt.Z.registerEventListener("closeSuggestionDropdown","keyup",27,(()=>{Wt.Z.removeEventListener("closeSuggestionDropdown","keyup",27)}))},removeEvents(){Wt.Z.removeEventListener("setDropdownOptionPrev","keydown",38),Wt.Z.removeEventListener("setDropdownOptionNext","keydown",40),Wt.Z.removeEventListener("selectOrCreateOption","keydown",13),this.destroyEscapeEvent?Wt.Z.removeEventListener("closeSuggestionDropdown","keyup",27):this.destroyEscapeEvent=!0},deactivateSuggestion(){this.removeEvents(),this.closeDropdown()},activateSuggestion(){this.addEvents(),this.openDropdown()},updateDropdownPosition(){var t;this.$nextTick().then(null===(t=this.dropdown)||void 0===t?void 0:t.forceUpdateDropdownPosition)},async selectNote(t){this.range&&(t.linkKey||(t.linkKey=(0,Xt.uuidv4)(),await this.notesStore.update(t.id,{linkKey:t.linkKey},{updateDate:!1})),this.editorStore.createNoteLink(t.linkKey,this.range))},async selectOrCreateNoteAtOption(){this.activeOptionIndex!==this.items.length?await this.selectNote(this.items[this.activeOptionIndex]):await this.createNewNote()},async createNewNote(){if(!this.query)return;const t=this.notesStore.create();await this.notesStore.update(t.id,{title:this.query},{updateDate:!1}),await this.selectNote(t)},setOptionAdjacent(t){const e=this.items.length+(this.newNoteOptionVisible?1:0);this.activeOptionIndex=((this.activeOptionIndex+t)%e+e)%e},updateDataFromLinkState({editor:t}){const e=jt.r.getState(t.state);this.visible=e.active,this.query=e.query,this.range=e.range,this.visible||"Escape"!==e.prevKeyPressed||(this.destroyEscapeEvent=!1)}}};o(96408);const Gt={name:"NotesEditor",components:{NotesEditorLinkSuggestion:(0,n.Z)(Qt,nt,[],!1,null,"a55bcd7a",null).exports,NotesEditorAi:st,NotesEditorToolbar:R,EditorContent:T.kg},provide(){return{notesEditorElement:(0,at.Fl)((()=>this.editorElement))}},inject:["itemStore","viewStateStore","editorStore","activeNote"],props:{focusOnCreated:{type:Boolean,default:!0}},data:()=>({restoreBannerActive:!1,editorElement:null}),computed:{windowDimensions:()=>x.Z.windowDimensions,cursor(){return this.editorStore.cursor}},watch:{"activeNote.id":{handler(t){t&&this.activeNote&&(this.editorStore.updatePlaceholder(),this.updateEditorWithActiveNote()),this.restoreBannerActive=!1},immediate:!0},"activeNote.updatedDate"(){const t=this.editorStore.getTitleContent(),e=this.editorStore.getBodyHTMLContent();this.editorStore.editor.isFocused||this.activeNote.body===e&&this.activeNote.title===t||this.updateEditorWithActiveNote()},"activeNote.deleted"(t){!t&&this.restoreBannerActive&&(this.restoreBannerActive=!1)}},created(){this.editorStore.editor.on("update",this.onUpdate),this.editorStore.editor.on("blur",this.onBlur),this.editorStore.editor.on("focus",this.onFocus),this.updateEditorWithActiveNote(),this.focusOnCreated&&this.focus()},mounted(){this.editorElement=this.$refs["notes-editor"]},beforeDestroy(){const t=this.$refs["editor-content"].$el,e=document.createElement("div");t.before(e),e.outerHTML=t.outerHTML,e.style.display="none",this.editorStore.editor.off("update",this.onUpdate),this.editorStore.editor.off("blur",this.onBlur),this.editorStore.editor.off("focus",this.onFocus)},methods:{save(){this.viewStateStore.activeItemId=this.activeNote.id;const t=this.editorStore.getTitleContent(),e=this.editorStore.getBodyHTMLContent(),o=this.editorStore.getLinkedKeys(),i=this.itemStore.getUpdatedProperties(this.activeNote.id,{title:t,body:e,linkedKeys:o});!this.activeNote.deleted&&Object.keys(i).length&&this.itemStore.update(this.activeNote.id,i)},restore(){this.itemStore.restore(this.activeNote.id),this.viewStateStore.setActiveView("list"),this.editorStore.focus()},onUpdate(){if(m.conditionalFeatures.featureEnabled("notes-degraded"))return m.cmd("modal.open","UPSELL_NOTES",{eventSource:"dash"}),this.editorStore.editor.commands.undo(),void this.editorStore.editor.commands.blur();clearTimeout(this.saveDebounce),this.saveDebounce=setTimeout((()=>{this.save()}),u.Nd)},onBlur(){clearTimeout(this.saveDebounce),this.save()},onFocus(){this.activeNote.deleted&&(this.restoreBannerActive=!0)},updateEditorWithActiveNote(){var t,e,o;this.editorStore.setEditable(!((null===(t=this.activeNote)||void 0===t?void 0:t.deleted)??1)),this.editorStore.setContent((null===(e=this.activeNote)||void 0===e?void 0:e.title)??"",(null===(o=this.activeNote)||void 0===o?void 0:o.body)??"")},focus(){this.editorStore.focus()}}},Jt=()=>{(0,at.sj)(((t,e)=>({"5ae47bb4":t.cursor.x,"5ae47bb2":t.cursor.y,"15f2a78e":t.cursor.height,74176874:t.cursor.width,"5e905799":t.cursor.left,"73d0fcca":t.cursor.right,29489586:t.cursor.bottom,"6625cf83":t.cursor.top})))},Yt=Gt.setup;Gt.setup=Yt?(t,e)=>(Jt(),Yt(t,e)):Jt;const te=Gt;o(28857);const ee=(0,n.Z)(te,P,[],!1,null,"65c97882",null).exports;var oe=o(40531),ie=o(5842),re=function(){var t=this,e=t._self._c;return e("app-header-control",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropdowns,expression:"closeDropdowns"}],staticClass:"notes-header-ai",attrs:{"data-test":"notes-header-ai",disabled:t.disabled},on:{click:t.onHeaderAiClick}},[e("div",{staticClass:"notes-header-ai-content"},[e("div",{staticClass:"notes-header-ai-content-toggle"},[e("inline-svg",{staticClass:"icon icon-ai",attrs:{src:o(98944)}}),t._v(" "),e("span",{staticClass:"ai-label"},[t._v("AI")]),t._v(" "),e("inline-svg",{staticClass:"icon icon-chevron-down",attrs:{src:o(67277)}})],1),t._v(" "),t.activeNote?e("notes-ai-history",{ref:"notes-ai-history",attrs:{alignment:t.DropdownAlignment.Left,"append-to-end":!0},on:{close:t.closeDropdowns,toggle:function(e){t.historyOpen=e}}}):t._e(),t._v(" "),t.activeNote?e("notes-ai-actions",{ref:"notes-ai-actions",attrs:{"active-note":t.activeNote,"use-ai-header":!1,alignment:t.DropdownAlignment.Left},on:{"action:history":t.actionClicked,toggle:function(e){t.actionsOpen=e}}}):t._e()],1)])};re._withStripped=!0;const se={name:"NotesHeaderAi",components:{AppHeaderControl:D.Z,NotesAiHistory:J,NotesAiActions:it},inject:["viewStateStore","editorStore"],props:{activeNote:{type:Object,default:null},disabled:{type:Boolean,default:!1}},unreactive:()=>({DropdownAlignment:C.oA}),data:()=>({actionsOpen:!1,historyOpen:!1}),computed:{fullscreen(){return this.viewStateStore.fullscreen}},watch:{fullscreen(){this.closeDropdowns()}},methods:{openHistoryDropdown(){var t;null===(t=this.$refs["notes-ai-history"])||void 0===t||t.openDropdown(),this.historyOpen=!0},closeHistoryDropdown(){var t;null===(t=this.$refs["notes-ai-history"])||void 0===t||t.closeDropdown(),this.historyOpen=!1},openActionsDropdown(){var t;null===(t=this.$refs["notes-ai-actions"])||void 0===t||t.openDropdown(),this.actionsOpen=!0},closeActionsDropdown(){var t;null===(t=this.$refs["notes-ai-actions"])||void 0===t||t.closeDropdown(),this.actionsOpen=!1},closeDropdowns(){this.closeActionsDropdown(),this.closeHistoryDropdown()},onHeaderAiClick(){this.actionsOpen||this.historyOpen?this.closeDropdowns():(this.openActionsDropdown(),this.editorStore.resetSelection())},actionClicked(){this.closeActionsDropdown(),this.openHistoryDropdown()}}};o(93105);const ne=(0,n.Z)(se,re,[],!1,null,"b7dbe08c",null).exports;var ae=o(18303),de=o(35174),ce=o(29204);const le=((t=(0,ae.A)().noteAiService)=>(0,c.Q_)("notesAi",{state:()=>({data:[],activeIndex:0,activeAction:null,activeActionLabel:null,languages:{data:[],loading:!1,loaded:!1},loading:!1,loaded:!1,error:null}),getters:{activeHistoryData(t){var e;return null!==(e=t.data[t.activeIndex])&&void 0!==e?e:{result:""}}},actions:{async runActiveRequest(e){if(e&&(this.activeAction=()=>t.request(e.id,e.type,e.data),this.activeActionLabel=e.type),!this.activeAction||!this.activeActionLabel)throw new Error("Unable to run active action! No current or previous action and label defined.");let o={result:""},i=null;try{this.loading=!0,this.error=null,o=await this.activeAction(),""===o.result?i=new ce.d7:this.appendToHistory(o)}catch(t){i=t}finally{this.loading=!1,this.loaded=!0}return i&&(this.error=(0,de.y)(i,{default:u.LQ.ErrorAiRequestHistory})),o},appendToHistory(t){this.activeIndex=this.data.length,this.data.push(t)},async getLanguages(){this.languages.loading||this.languages.loaded||(this.languages.loading=!0,this.languages.data=await t.getLanguages(),this.languages.loading=!1,this.languages.loaded=!0)},reset(){this.activeAction=null,this.activeActionLabel=null,this.loading=!1,this.loaded=!1,this.error=null,this.activeIndex=0,this.data=[]}}}))();var pe=o(70237),he=o(70464);const ue=(0,at.aZ)({name:"LazyRender",props:{placeholderHeight:{type:String,required:!0}},setup(){const t=(0,at.iH)(!1),e=(0,at.iH)(),{stop:o}=(0,he.S1d)(e,(([e])=>{const{isIntersecting:i}=null!=e?e:{};i&&(t.value=!0,o())}),{rootMargin:x.Z.windowDimensions.height/4+"px"});return{targetElement:e,shouldRender:t}},render(t){var e,o,i;return this.shouldRender?t({functional:!0,render:(t,e)=>e.props.vNodes},{attrs:{vNodes:null!==(i=null===(o=(e=this.$scopedSlots).default)||void 0===o?void 0:o.call(e,{}))&&void 0!==i?i:[]}}):t("div",{ref:"targetElement",style:{minHeight:this.placeholderHeight}})}}),ve=()=>x.Z.windowDimensions.width<850,ge={name:"NotesApp",components:{LazyRender:ue,BaseDropdownDivider:F.Z,NotesHeaderAi:ne,NotesEditor:ee,BaseDropdownContent:L.Z,BaseDropdown:N.Z,AppHeaderControl:D.Z,BaseItemList:A.default,BaseDropdownOption:_.Z,AppEmpty:y.Z,AppLoading:f.Z,NoteListItem:g,AppPopup:p.Z,AppView:l.Z,AppViewSwitchStatic:a,AppHeader:b.Z,AppSearch:k},inject:["viewStateStore"],provide(){return{itemStore:this.notesStore,editorStore:this.notesEditorStore,editorViewStateStore:this.notesEditorViewStateStore,aiStore:this.notesAiStore,activeNote:(0,at.Fl)((()=>this.activeNote))}},data(){return{searchString:"",searchFocused:!1,sidebarOpen:!ve()&&this.getStorageSidebarState()}},computed:{...(0,c.Kc)(d.useNotesStore,$,Kt,le),condensed:ve,empty(){return this.loaded&&!Object.keys(this.notes).length},loading(){return this.notesStore.loading},loaded(){return this.notesStore.loaded},error(){return this.notesStore.error},deletedListActive(){return"deleted"===this.activeViewId},emptyStateProps(){return this.searchString?{description:"No notes found.",buttonText:"New Note"}:this.deletedListActive?{description:"No deleted notes yet.",buttonText:"Back To List"}:{title:"Take quick notes and store wisdom to view later.",description:"No notes yet. Add a note to get started!",buttonText:"New Note"}},activeListNotes(){return this.deletedListActive?this.notesStore.getDeletedItems:this.notesStore.getItems},notes(){const t=this.activeListNotes;if(this.searchString.length){const e={},o=this.searchString.toLowerCase();return Object.entries(this.notesSearchableContent).forEach((([i,r])=>{r.includes(o)&&(e[i]=t[i])})),e}return t},activeViewId(){return this.viewStateStore.activeViewId},activeView(){return this.viewStateStore.activeView},activeNoteId:{get(){return this.notesStore.activeItemId},set(t){this.notesStore.activeItemId=t}},activeNote(){return this.activeListNotes[this.activeNoteId]},activeNoteLastUpdatedDateString(){if(!this.activeNote)return"";const t=new Date(this.activeNote.updatedDate);return m.utils.formatMonthDayRelative(t,!1)+m.utils.formatYearRelative(t)+" at "+m.utils.formatTime(t)},fullscreen:{get(){return oe.Fl.notesFullscreen&&!this.$touch},set(t){oe.ax.notesFullscreen=t}},notesSearchableContent(){return Object.entries(this.notesStore.getItems).reduce(((t,[e,o])=>{var i;return t[e]=`${(null===(i=o.title)||void 0===i?void 0:i.toLowerCase())??""} ${o.bodyTextContent.toLowerCase()}`,t}),{})}},unreactive:()=>({DropdownAlignment:C.oA,AppHeaderCloseOn:ie.j}),watch:{activeNote(t){t||this.notesStore.clearActiveItem()},searchString(){this.notesStore.clearActiveItem()},searchFocused(){this.searchFocused||this.toggleSidebar(!this.condensed&&this.getStorageSidebarState())},notes(){var t;this.activeNoteId||(this.notesStore.activeItemId=null===(t=Object.values(this.notes)[0])||void 0===t?void 0:t.id)},deletedListActive(){this.deletedListActive&&this.refreshDeletedNotes()},activeNoteId(){this.searchFocused||this.$nextTick(this.focusNotePad)}},created(){this.loaded||this.notesStore.refresh()},mounted(){m.on("globalEvent:metaBracketLeft",this.setNotePrev),m.on("globalEvent:metaBracketRight",this.setNoteNext),m.on("globalEvent:metaForwardSlash",this.toggleSearchFocused),m.on("globalEvent:metaBackSlash",this.toggleSidebar),m.on("globalEvent:metaCtrlN",this.createNote)},destroyed(){m.off("globalEvent:metaBracketLeft",this.setNotePrev),m.off("globalEvent:metaBracketRight",this.setNoteNext),m.off("globalEvent:metaForwardSlash",this.toggleSearchFocused),m.off("globalEvent:metaBackSlash",this.toggleSidebar),m.off("globalEvent:metaCtrlN",this.createNote),m.on("modal:showUpgrade",this.closePopup)},methods:{setActiveView(t){this.searchString="",this.viewStateStore.setActiveView(t),this.notesStore.clearActiveItem()},deleteNote(){this.notesStore.delete(this.activeNoteId),this.notesStore.clearActiveItem(),this.closeDeleteConf()},closeDeleteConf(){var t;null===(t=this.$refs["delete-dropdown"])||void 0===t||t.closeDropdown()},focusNotePad(){var t;null===(t=this.$refs["notes-editor"])||void 0===t||t.focus(),this.condensed&&(this.sidebarOpen=!1)},createNote(){if(m.conditionalFeatures.featureEnabled("notes-degraded"))return this.notesEditorStore.blur(),void m.cmd("modal.open","UPSELL_NOTES",{eventSource:"dash"});this.searchString="";const t=this.notesStore.create();this.activeNoteId=t.id,this.deletedListActive&&this.setActiveView("list"),this.$nextTick(this.focusNotePad)},restoreNote(){this.notesStore.restore(this.activeNoteId),this.setActiveView("list"),this.$nextTick(this.focusNotePad)},refreshDeletedNotes(){this.notesStore.refresh(!0)},enterFullscreen(){this.fullscreen=!0,this.notesEditorStore.resetSelection()},exitFullscreen(){this.fullscreen=!1,this.notesEditorStore.resetSelection()},closePopup(){this.viewStateStore.togglePopup(!1)},getStorageSidebarState:()=>pe.Z.getLocalStorageBool(u.OZ,!0),saveStorageSidebarState(){localStorage.setItem(u.OZ,this.sidebarOpen)},toggleSidebar(t,e={saveInStorage:!0}){t="boolean"==typeof t?t:void 0,this.sidebarOpen=t??!this.sidebarOpen,e.saveInStorage&&this.saveStorageSidebarState(),this.notesEditorStore.resetSelection()},setNoteAdjacent(t){this.$refs["notes-editor"].save();const e=Object.keys(this.notes),o=e.indexOf(this.activeNoteId),i=e.length,r=e[((o+t)%i+i)%i];r&&(this.activeNoteId=r)},setNoteNext(){this.setNoteAdjacent(1)},setNotePrev(){this.setNoteAdjacent(-1)},toggleSearchFocused(){var t;const e=!this.condensed&&this.getStorageSidebarState();this.toggleSidebar(!this.searchFocused||e,{saveInStorage:!1}),this.searchFocused?this.$nextTick().then(this.focusNotePad):null===(t=this.$refs.search)||void 0===t||t.select()},openHelpPage(){window.open(u.YH,"_blank")},openMarkdownGuide(){window.open(u.Ou,"_blank")},closeEditorDropdowns(){this.notesEditorStore.resetSelection(),this.notesEditorViewStateStore.setActiveView(V.ToolbarDefault)}}},fe=ge;o(67075);const ye=(0,n.Z)(fe,i,[],!1,null,"097e5832",null).exports},18359:(t,e,o)=>{var i=o(92999);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("585b3780",i,!1,{})},97042:(t,e,o)=>{var i=o(7756);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("01e1ecdc",i,!1,{})},89089:(t,e,o)=>{var i=o(79649);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("d5be64fa",i,!1,{})},86370:(t,e,o)=>{var i=o(40199);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("069116a9",i,!1,{})},28857:(t,e,o)=>{var i=o(479);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("7c654301",i,!1,{})},22054:(t,e,o)=>{var i=o(33932);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("5afba4f8",i,!1,{})},70164:(t,e,o)=>{var i=o(17811);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("d52d2ab4",i,!1,{})},96408:(t,e,o)=>{var i=o(67210);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("8885f0c6",i,!1,{})},59449:(t,e,o)=>{var i=o(43095);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("731fd3ad",i,!1,{})},56715:(t,e,o)=>{var i=o(26452);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("27892e70",i,!1,{})},69018:(t,e,o)=>{var i=o(71002);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("2976fbfe",i,!1,{})},18146:(t,e,o)=>{var i=o(20594);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("54f544f2",i,!1,{})},93105:(t,e,o)=>{var i=o(93650);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("263766da",i,!1,{})},826:(t,e,o)=>{var i=o(6794);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("4aee41c4",i,!1,{ssrId:!0})},93416:(t,e,o)=>{var i=o(18553);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("4d28da78",i,!1,{ssrId:!0})},67075:(t,e,o)=>{var i=o(16880);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("9532d4b8",i,!1,{ssrId:!0})}}]);