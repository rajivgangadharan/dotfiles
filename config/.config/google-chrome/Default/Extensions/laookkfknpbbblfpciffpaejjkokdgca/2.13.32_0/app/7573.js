(globalThis.webpackChunkmomentum=globalThis.webpackChunkmomentum||[]).push([[7573],{51953:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(8081),i=s.n(a),o=s(23645),n=s.n(o)()(i());n.push([e.id,"[data-v-5fffe065] .app-confirm-cancel{--color-bg: transparent;max-width:290px;position:relative;padding:12px 15px}[data-v-5fffe065] .app-confirm-cancel .app-confirm-cancel-message{text-align:left}[data-v-5fffe065] .app-confirm-cancel .button{padding:6px 13px;font-size:.8rem}",""]);const r=n},13122:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(8081),i=s.n(a),o=s(23645),n=s.n(o)()(i());n.push([e.id,".session-detail[data-v-3f263805]{padding:0 calc(var(--app-padding) - (var(--width) - 100%)) 0 var(--app-padding)}.session-detail .window[data-v-3f263805]:not(:last-child){margin-bottom:8px}.session-detail .window .window-label[data-v-3f263805]{padding:6px 0;color:var(--color-stop-4);font-size:.75rem;font-weight:700;text-transform:uppercase;cursor:pointer}.session-detail .window:first-child .window-label[data-v-3f263805]{padding-top:0}.session-detail .window .group[data-v-3f263805]{margin:8px 0 4px;padding-left:10px;border-left:2px solid var(--tab-group-color)}.session-detail .window .group .group-label[data-v-3f263805]{padding-bottom:4px;color:var(--tab-group-color);font-size:.75rem;font-weight:700;text-transform:uppercase;cursor:pointer}",""]);const r=n},80017:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(8081),i=s.n(a),o=s(23645),n=s.n(o)()(i());n.push([e.id,".light{--tab-group-color-blue: #2474e4;--tab-group-color-cyan: #147b82;--tab-group-color-green: #22803d;--tab-group-color-grey: #5f6368;--tab-group-color-orange: #f7914a;--tab-group-color-pink: #cd2183;--tab-group-color-purple: #9f46f0;--tab-group-color-red: #d6342f;--tab-group-color-yellow: #f7ac2e}.dark{--tab-group-color-blue: #8cb4f5;--tab-group-color-cyan: #7ed9ea;--tab-group-color-green: #85c997;--tab-group-color-grey: #dadce0;--tab-group-color-orange: #faae77;--tab-group-color-pink: #fc8dca;--tab-group-color-purple: #c48cf6;--tab-group-color-red: #ef8c85;--tab-group-color-yellow: #fcd66e}.custom,.photo-match{--tab-group-color-blue: var(--color-text);--tab-group-color-cyan: var(--color-text);--tab-group-color-green: var(--color-text);--tab-group-color-grey: var(--color-text);--tab-group-color-orange: var(--color-text);--tab-group-color-pink: var(--color-text);--tab-group-color-purple: var(--color-text);--tab-group-color-red: var(--color-text);--tab-group-color-yellow: var(--color-text)}",""]);const r=n},20039:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(8081),i=s.n(a),o=s(23645),n=s.n(o)()(i());n.push([e.id,'.tab[data-v-1f1e6537]{display:flex;position:relative;align-items:center;margin:1px calc(var(--app-padding)/-3) 0;padding:calc(var(--app-padding)/3);border-radius:var(--border-radius);cursor:pointer;gap:8px}.tab[data-v-1f1e6537]::before,.tab[data-v-1f1e6537]::after{content:"";height:1px;position:absolute;background-color:var(--color-stop-1)}.tab[data-v-1f1e6537]::before{inset:-1px calc(var(--app-padding)/3) auto}.tab[data-v-1f1e6537]::after{inset:auto calc(var(--app-padding)/3) 0}.tab[data-v-1f1e6537]:hover{background-color:var(--color-stop-1)}.tab[data-v-1f1e6537]:hover:active{background-color:var(--color-stop-2)}.tab[data-v-1f1e6537]:hover::before,.tab:hover+.tab[data-v-1f1e6537]::before,.tab[data-v-1f1e6537]:hover::after,.tab[data-v-1f1e6537]:not(:last-child)::after{background-color:rgba(0,0,0,0)}.tab+.group[data-v-1f1e6537]{border-bottom:none}.tab .favicon[data-v-1f1e6537]{width:16px;height:16px;flex-shrink:0;overflow:hidden;border-radius:calc(var(--border-radius)/2 + 1px);background-color:var(--color-stop-1)}.tab[data-v-1f1e6537] .favicon :is(img,svg){width:12px;height:12px;margin:2px;border-radius:calc(var(--border-radius)/2 - 1px)}.tab .name[data-v-1f1e6537]{overflow:hidden;color:var(--color-stop-6);font-size:.875rem;font-weight:500;line-height:140%;text-overflow:ellipsis;white-space:nowrap}.window>.group+.tab[data-v-1f1e6537]::before,.window:only-child>.tab[data-v-1f1e6537]:first-child::before,.window:last-child>.tab[data-v-1f1e6537]:last-child::after{background-color:rgba(0,0,0,0)}',""]);const r=n},97898:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(8081),i=s.n(a),o=s(23645),n=s.n(o)()(i());n.push([e.id,'.session-list-item[data-v-9dd4a4dc]{min-width:0;display:flex;position:relative;flex-direction:column;margin:1px 0 0;padding:8px calc(var(--app-padding)/2);border-radius:var(--border-radius);cursor:pointer}.session-list-item[data-v-9dd4a4dc]::before,.session-list-item[data-v-9dd4a4dc]::after{content:"";height:1px;position:absolute;background-color:var(--color-stop-2)}.session-list-item[data-v-9dd4a4dc]::before{inset:-1px calc(var(--app-padding)/2) auto}.session-list-item[data-v-9dd4a4dc]::after{inset:auto calc(var(--app-padding)/2) 0}.session-list-item[data-v-9dd4a4dc]:hover{background-color:var(--color-stop-1)}@supports not selector(:has( * )){.session-list-item[data-v-9dd4a4dc]:hover:active{background-color:var(--color-stop-2)}}@supports selector(:has( * )){.session-list-item[data-v-9dd4a4dc]:hover:active:not(:has(.list-item-control:active)){background-color:var(--color-stop-2)}}.session-list-item[data-v-9dd4a4dc]:hover::after,.session-list-item[data-v-9dd4a4dc]:hover::before,.session-list-item:hover+.session-list-item[data-v-9dd4a4dc]::before,.session-list-item[data-v-9dd4a4dc]:not(:last-child)::after{background-color:rgba(0,0,0,0)}.session-list-item .upper-row[data-v-9dd4a4dc]{width:100%;display:flex;flex-direction:row;align-items:baseline;justify-content:space-between;overflow:hidden;gap:15px}.session-list-item .upper-row .title[data-v-9dd4a4dc]{width:100%;opacity:.85;padding:2px 2px 2px 0;overflow:hidden;font-weight:500;text-overflow:ellipsis;white-space:nowrap}.session-list-item .upper-row .title-input[data-v-9dd4a4dc]{padding:2px 2px 2px 0;border-bottom:none;font-weight:500}.session-list-item .upper-row .list-item-control[data-v-9dd4a4dc]{display:flex;align-items:center;gap:8px}.session-list-item .upper-row .list-item-control .restore[data-v-9dd4a4dc]{opacity:var(--opacity-stop-5);padding:3px;font-size:14px;font-weight:500;cursor:pointer}.session-list-item .upper-row .list-item-control .restore[data-v-9dd4a4dc]:hover{opacity:var(--opacity-stop-6)}.session-list-item .upper-row .list-item-control .restore[data-v-9dd4a4dc]:hover:active{opacity:1}.session-list-item .bottom-row[data-v-9dd4a4dc]{display:flex;align-items:center}.session-list-item .bottom-row .session-description[data-v-9dd4a4dc]{display:flex;opacity:var(--opacity-stop-4);font-size:14px;gap:8px}.session-list-item .bottom-row .icon-cross-browser-warn[data-v-9dd4a4dc]{display:inline-flex;align-items:center;opacity:var(--opacity-stop-5)}',""]);const r=n},79728:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(8081),i=s.n(a),o=s(23645),n=s.n(o)()(i());n.push([e.id,"\n/* stylelint-disable */\n.app-confirm-cancel[data-v-5171a2e0] { position: absolute; isolation: isolate; display: flex; flex-direction: column; padding: var(--app-padding); margin: auto; min-height: var(--overlay-min-height, unset); height: 100%; width: 100%;\n}\n\t/* background in separate element so it can have higher z-index than overlay */\n.app-confirm-cancel[data-v-5171a2e0]:after { position: absolute; inset: 0; z-index: -1; content: ''; background-color: var(--color-bg);\n}\n.app-confirm-cancel-message[data-v-5171a2e0] { flex-grow: 1; display: flex; justify-content: center; flex-direction: column; gap: 5px; text-align: center;\n}\n.app-confirm-title[data-v-5171a2e0] { line-height: 130%;\n}\n.app-confirm-description[data-v-5171a2e0] { margin-bottom: 11px; padding: 0; color: var(--color-stop-5);\n}\n.app-confirm-cancel-buttons[data-v-5171a2e0] { display: flex; width: 100%; gap: 0.5rem;\n}\n.app-confirm-cancel-buttons *[data-v-5171a2e0] { flex-grow: 1;\n}\n",""]);const r=n},63423:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(8081),i=s.n(a),o=s(23645),n=s.n(o)()(i());n.push([e.id,"\n/* stylelint-disable */\n.app-view-switch[data-v-17d271a2] { min-height: 0; width: 100%;\n}\n.app-view-switch.transitioning[data-v-17d271a2] { overflow: hidden !important;\n}\n.smooth-height-slide-left-enter-active[data-v-17d271a2],\n\t.smooth-height-slide-left-leave-active[data-v-17d271a2],\n\t.smooth-height-slide-right-enter-active[data-v-17d271a2],\n\t.smooth-height-slide-right-leave-active[data-v-17d271a2] { transition: transform 300ms ease;\n}\n.smooth-height-slide-left-leave-active[data-v-17d271a2], .smooth-height-slide-right-leave-active[data-v-17d271a2] { position: absolute; top: 0; right: 0; left: 0;\n}\n.smooth-height-slide-left-leave-to[data-v-17d271a2], .smooth-height-slide-right-enter[data-v-17d271a2] { transform: translateX(-100%);\n}\n.smooth-height-slide-left-enter[data-v-17d271a2], .smooth-height-slide-right-leave-to[data-v-17d271a2] { transform: translateX(100%);\n}\n.smooth-height-slide-left-enter-active[data-v-17d271a2] .app-body,\n\t.smooth-height-slide-left-leave-active[data-v-17d271a2] .app-body,\n\t.smooth-height-slide-right-enter-active[data-v-17d271a2] .app-body,\n\t.smooth-height-slide-right-leave-active[data-v-17d271a2] .app-body { overflow: hidden;\n} /* hides scrollbar when transitioning between views */\n",""]);const r=n},62459:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(8081),i=s.n(a),o=s(23645),n=s.n(o)()(i());n.push([e.id,"\n/* stylelint-disable */\n.degraded-plus-banner[data-v-07db59a2] { background: var(--color-stop-2); padding: 8px; text-align: center; font-size: 0.75rem; color: var(--color-stop-5);\n}\n.degraded-plus-banner span[data-v-07db59a2] { color: var(--color-text); font-weight: 600; cursor: pointer; padding: 8px; margin: -8px; margin-left: -2px;\n}\n",""]);const r=n},91299:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(8081),i=s.n(a),o=s(23645),n=s.n(o)()(i());n.push([e.id,"\n/* stylelint-disable */\n[data-v-e3608438] .app { padding: 0; --header-height: 55px;\n}\n.app-loading[data-v-e3608438] { min-height: 190px;\n}\n.app-content[data-v-e3608438] {\n}\n[data-v-e3608438] .app-header {\n}\n.detail-header-title[data-v-e3608438] { font-size: 17px; font-weight: 500;\n}\n.list[data-v-e3608438] .app-header .header-left { width: auto; padding-top: 5px;\n}\n.button-row[data-v-e3608438] { padding: 0 var(--app-padding) var(--app-padding); display: flex; gap: 8px;\n}\n.button-row .button[data-v-e3608438] { background: var(--color-button); display: inline-block; flex: 0 0 auto; padding: 6px 13px; font-size: 14px;\n}\n.button-row .button[data-v-e3608438]:hover { background: var(--color-button-hover)\n}\n.button-row .button[data-v-e3608438]:hover:active { background: var(--color-button-active)\n}\n[data-v-e3608438] .base-item-list { padding: 0 calc(var(--app-padding) / 2 - (var(--width) - 100%)) 0 calc(var(--app-padding) / 2)\n}\n.degraded-plus-banner[data-v-e3608438] { margin-bottom: var(--app-padding);\n}\n.app-confirm-cancel[data-v-e3608438] { position: relative; max-width: 290px; padding: 12px 15px; --color-bg: transparent;\n}\n.app-confirm-cancel[data-v-e3608438] .app-confirm-cancel-message { text-align: left;\n}\n.app-confirm-cancel[data-v-e3608438] .button { font-size: 0.8rem; padding: 6px 13px;\n}\n\n",""]);const r=n},55040:(e,t,s)=>{"use strict";var a;s.d(t,{O:()=>a,k:()=>i}),function(e){e.Row="row",e.Column="column"}(a||(a={}));const i=3},70287:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var a=s(20144);const i=new class{constructor(e,t){this.localStorageKey=e,this.propertyGetter=(0,a.iH)(null);const s=JSON.parse(localStorage.getItem(e)||"null")||t;this.property=(0,a.iH)(s),(0,a.YP)((()=>this.currentValue),(e=>localStorage.setItem(this.localStorageKey,JSON.stringify(e))))}get currentValue(){return this.propertyGetter.value?this.propertyGetter.value():this.property.value}switchOverToWatchedStoreItem(e){this.propertyGetter.value=e}}("focusMode:activeState",!1)},18030:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var a=s(70237),i=s(7838);const o=(0,s(20144).aZ)({setup:()=>({flashMessageId:null}),methods:{showFlashMessage(e){this.flashMessageId&&i.Z.$emit("flashMessage:dismiss",this.flashMessageId),this.flashMessageId=a.Z.uuidv4(),e.id=this.flashMessageId,i.Z.$emit("flashMessage",e)}}})},56710:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-confirm-cancel"},[t("div",{staticClass:"app-confirm-cancel-message"},[t("div",{staticClass:"app-confirm-title"},[e._v(e._s(e.title))]),e._v(" "),e.description?t("p",{staticClass:"app-confirm-description"},[e._v(e._s(e.description))]):e._e()]),e._v(" "),t("div",{staticClass:"app-confirm-cancel-buttons"},[t("button",{staticClass:"button",attrs:{"data-test":"confirm"},on:{click:e.confirm}},[e._v(e._s(e.confirmText))]),e._v(" "),t("button",{staticClass:"button button-neutral",attrs:{"data-test":"cancel"},on:{click:e.cancel}},[e._v(e._s(e.cancelText))])])])};a._withStripped=!0;var i=s(65550),o=s(25786);const n={name:"AppConfirmCancel",props:{title:{type:String,default:""},description:{type:[String,void 0],default:void 0},confirm:{type:Function,default:()=>{}},confirmText:{type:String,default:"Yes"},cancel:{type:Function,default:()=>{}},cancelText:{type:String,default:"No"}},emits:["confirm","cancel"],unreactive:()=>({uniqueId:(0,o.uuidv4)()}),mounted(){i.Z.registerEventListener("cancelConfirmNo"+this.uniqueId,"keyup",27,this.cancel),i.Z.registerEventListener("cancelConfirmYes"+this.uniqueId,"keyup",13,this.confirm)},destroyed(){i.Z.removeEventListener("cancelConfirmNo"+this.uniqueId,"keyup",27,this.cancel),i.Z.removeEventListener("cancelConfirmYes"+this.uniqueId,"keyup",13,this.confirm)}};s(37809);const r=(0,s(51900).Z)(n,a,[],!1,null,"5171a2e0",null).exports},321:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=function(){var e=this,t=e._self._c;return t("smooth-reflow",{staticClass:"app-view-switch app-view-switch-dynamic",class:{transitioning:e.transitionActive},attrs:{transition:e.transitionType,disabled:e.smoothReflowDisabled,"hide-overflow":!0,duration:300},on:{beforeLeave:e.beforeTransition,beforeEnter:e.beforeTransition,afterEnter:e.afterTransition,afterResize:e.afterResize}},[t("div",{key:e.orderKey},[e._t("default")],2)])};a._withStripped=!0;var i=s(36399),o=s(52559);const n={name:"AppViewSwitch",components:{SmoothReflow:i.Z},mixins:[o.Z],inject:["appDimensions"],props:{transition:{type:[String,Array],default:()=>["smooth-height-slide-left","smooth-height-slide-right"]}},emits:["afterResize"],computed:{smoothReflowDisabled(){const{height:e,maxHeight:t}=this.appDimensions;return null===t||null===e||!!(e>=t-20&&e<=t+20)}},methods:{afterResize(){this.$emit("afterResize")}}};s(30836);const r=(0,s(51900).Z)(n,a,[],!1,null,"17d271a2",null).exports},39134:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e._self._c;return t("div",[e.imgLoading?t("inline-svg",{staticClass:"icon-favicon",attrs:{src:s(58858)}}):e._e(),e._v(" "),t("img",{directives:[{name:"show",rawName:"v-show",value:!e.imgLoading,expression:"!imgLoading"}],staticClass:"icon-favicon",attrs:{src:e.favicon,draggable:"false"},on:{load:function(t){e.imgLoading=!1}}})],1)};a._withStripped=!0;var i=s(70237);const o={name:"FavIcon",props:{url:{type:String,default:""}},data(){return{imgLoading:!0,updatedUrl:this.url}},computed:{favicon(){return m.utils.getFavIcon(i.Z.ensureUrlScheme(this.updatedUrl))}},watch:{url(){this.debouncedUrlChange&&clearTimeout(this.debouncedUrlChange),this.debouncedUrlChange=setTimeout((()=>{this.updatedUrl=this.url}),300)}}},n=(0,s(51900).Z)(o,a,[],!1,null,null,null).exports},29147:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>J});var a=function(){var e=this,t=e._self._c;return t("app-popup",{attrs:{position:"bottom-right",region:"top-left","data-test":"tab-stash-app",width:320,focused:e.viewStateStore.focused},on:{close:e.closePopup},nativeOn:{click:function(t){return e.viewStateStore.focus()}}},[t("transition",{attrs:{name:"fade",mode:"out-in",duration:"100"}},[e.loadingStateActive?t("app-loading"):e.tabsStore.loaded?t("div",{staticClass:"app-content"},[t("app-view-switch-dynamic",{attrs:{"order-key":e.activeView.order}},[e.listViewActive?t("app-view",{staticClass:"list session-list",attrs:{"data-test":"tabs-list-view"},scopedSlots:e._u([{key:"header",fn:function(){return[[t("app-header",{scopedSlots:e._u([{key:"left",fn:function(){return[t("inline-svg",{staticClass:"icon app-header-icon",attrs:{src:s(23275)}}),e._v(" "),t("span",{staticClass:"app-header-name"},[e._v("Tab Stash")])]},proxy:!0},{key:"right",fn:function(){return[t("base-dropdown",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeDeleteConfirmation,expression:"closeDeleteConfirmation"}],ref:"settingsDropdown",attrs:{"container-class":"app","data-test":"list-header-dropdown"},on:{toggle:e.closeDeleteConfirmation}},[e.deleteConfirmationOpen?[t("div",[t("app-confirm-cancel",e._b({attrs:{"data-test":"confirm-delete-all"}},"app-confirm-cancel",e.deleteAllProps,!1))],1)]:[e.empty?e._e():t("base-dropdown-option",{staticClass:"delete",attrs:{"data-test":"delete-all"},on:{click:e.openDeleteConfirmation}},[t("inline-svg",{staticClass:"icon icon-trash",attrs:{src:s(9241)}}),e._v(" "),t("span",{staticClass:"text"},[e._v("Delete all sessions")])],1),e._v(" "),e.empty?e._e():t("base-dropdown-divider"),e._v(" "),t("base-dropdown-option",{attrs:{"data-test":"tabs-onboarding"},on:{click:e.openHelpArticle}},[t("inline-svg",{staticClass:"icon icon-help",attrs:{src:s(16963)}}),e._v(" "),t("span",{staticClass:"text"},[e._v("Help")])],1)]],2)]},proxy:!0}],null,!1,2422349795)}),e._v(" "),e.empty?e._e():t("div",{staticClass:"button-row"},[e.isPlusDegraded?e._e():t("div",{staticClass:"button",attrs:{"data-test":"save-tabs"},on:{click:e.stashSession}},[e._v("Stash tabs")]),e._v(" "),t("div",{staticClass:"button button-neutral",attrs:{"data-test":"restore-last"},on:{click:e.restoreLastSession}},[e._v("Restore last session")])]),e._v(" "),e.isPlusDegraded?t("degraded-plus-banner",{on:{renew:e.showUpsell}}):e._e()]]},proxy:!0},{key:"body",fn:function(){return[e.empty?t("app-empty",{attrs:{title:"Stash your tabs for later\nso you can focus","button-text":"Stash open tabs"},on:{buttonClick:e.stashSession}}):[t("base-item-list",e._l(e.sessions,(function(s){return t("session-list-item",{key:s.id,attrs:{session:s},on:{restore:function(t){return e.restoreSession(s)},delete:function(t){return e.deleteSession(s)}}})})),1)]]},proxy:!0}],null,!1,3429946540)}):e.detailViewActive&&e.activeSession?t("app-view",{attrs:{"data-test":"tabs-detail-view"},scopedSlots:e._u([{key:"header",fn:function(){return[[t("app-header",{scopedSlots:e._u([{key:"left",fn:function(){return[t("app-header-control",{on:{click:e.switchViewToList}},[t("inline-svg",{staticClass:"icon icon-tabs",attrs:{src:s(97510)}})],1)]},proxy:!0},{key:"center",fn:function(){return[t("div",{staticClass:"detail-header-title",attrs:{"data-test":"detail-header"}},[e._v(e._s(e.activeSession.displayName))])]},proxy:!0}])}),e._v(" "),t("div",{staticClass:"button-row"},[t("div",{staticClass:"button",attrs:{"data-test":"restore-session"},on:{click:function(t){return e.restoreSession(e.activeSession)}}},[e._v("Restore session")]),e._v(" "),t("base-dropdown",{ref:"detailDeleteDropdown",attrs:{"container-class":"app","data-test":"confirm-delete"},scopedSlots:e._u([{key:"toggle",fn:function(){return[t("div",{staticClass:"button button-neutral",attrs:{"data-test":"delete-session"}},[e._v("Delete session")])]},proxy:!0}])},[e._v(" "),t("session-confirm-delete",{attrs:{session:e.activeSession},on:{cancel:()=>{var t;return null===(t=e.$refs.detailDeleteDropdown)||void 0===t?void 0:t.closeDropdown()},delete:()=>e.deleteSession(e.activeSession)}})],1)],1)]]},proxy:!0},{key:"body",fn:function(){return[t("session-detail",{attrs:{session:e.activeSession,"data-test":"confirm-delete"}})]},proxy:!0}])}):e._e()],1)],1):e._e()],1)],1)};a._withStripped=!0;var i=s(321),o=s(21325),n=s(14582),r=s(85407),l=s(24871),d=s(63892),c=s(56710),p=s(93287),u=s(39226),v=s(73509),h=function(){var e=this,t=e._self._c;return t("li",{staticClass:"session-list-item",attrs:{"data-test":"session-item"},on:{click:e.switchViewToDetail}},[t("div",{staticClass:"upper-row"},[e.editingTitle?t("span",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tempTitle,expression:"tempTitle"}],ref:"editingTitle",staticClass:"title-input",attrs:{spellcheck:"false","data-test":"display-name-input",maxlength:"255"},domProps:{value:e.tempTitle},on:{click:function(e){e.stopPropagation()},keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleTitleChange.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.stopPropagation(),e.revertTitle.apply(null,arguments))}],blur:e.handleTitleChange,input:function(t){t.target.composing||(e.tempTitle=t.target.value)}}})]):t("span",{staticClass:"title",attrs:{"data-test":"display-name"}},[e._v(e._s(e.displayName))]),e._v(" "),t("div",{staticClass:"list-item-control",attrs:{"data-test":"session-item-control"},on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"restore",attrs:{"data-test":"restore-session"},on:{click:function(t){return e.$emit("restore")}}},[e._v("Restore")]),e._v(" "),t("base-dropdown",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeDeleteConfirmation,expression:"closeDeleteConfirmation"}],ref:"tabs-dropdown",attrs:{"data-test":"session-dropdown"},on:{toggle:e.closeDeleteConfirmation}},[e.deleteConfirmationOpen?[t("session-confirm-delete",{attrs:{session:e.session},on:{cancel:e.closeDeleteConfirmation,delete:function(t){return e.$emit("delete")}}})]:[t("base-dropdown-option",{attrs:{"data-test":"rename-session"},on:{click:e.renameSession}},[t("inline-svg",{staticClass:"icon icon-edit",attrs:{src:s(13228)}}),e._v(" "),t("span",{staticClass:"text"},[e._v("Rename")])],1),e._v(" "),t("base-dropdown-option",{attrs:{"data-test":"delete-session"},on:{click:e.openDeleteConfirmation}},[t("inline-svg",{staticClass:"icon icon-delete",attrs:{src:s(9241)}}),e._v(" "),t("span",{staticClass:"text"},[e._v("Delete")])],1)]],2)],1)]),e._v(" "),t("div",{staticClass:"bottom-row"},[e.iconCrossBrowserWarnVisible?t("div",{staticClass:"icon-cross-browser-warn",attrs:{"data-test":"cross-browser-warn",title:"This session was created on another browser. Browser-specific pages might not be restored"}},[t("inline-svg",{staticClass:"icon icon-delete",attrs:{src:s(63741)}})],1):e._e(),e._v(" "),t("div",{staticClass:"session-description",attrs:{"data-test":"session-description"}},[t("span",[e._v(e._s(e.session.sessionDescriptionTabs))]),e._v(" "),e.session.windows.length>1?t("span",[e._v(e._s(e.session.sessionDescriptionWindows))]):e._e()])])])};h._withStripped=!0;var f=s(42223),g=s(70237),b=s(9128),w=s(35757),y=function(){var e=this,t=e._self._c;return t("div",[t("app-confirm-cancel",e._b({attrs:{"data-test":"confirm-delete"}},"app-confirm-cancel",e.deleteProps,!1))],1)};y._withStripped=!0;const x={name:"SessionConfirmDelete",components:{AppConfirmCancel:c.Z},props:{session:{type:b.z,required:!0}},emits:["cancel","delete"],computed:{deleteProps(){return{title:"Are you sure you want to delete this session?",description:this.session.sessionDescriptionTabs+(this.session.windows.length>1?" "+this.session.sessionDescriptionWindows:""),confirm:()=>this.$emit("delete"),confirmText:"Delete session",cancel:()=>this.$emit("cancel"),cancelText:"Keep session",dataTest:"confirm-delete"}}}};s(92553);var _=s(51900);const S=(0,_.Z)(x,y,[],!1,null,"5fffe065",null).exports,C={name:"SessionListItem",components:{BaseDropdownOption:u.Z,BaseDropdown:p.Z,SessionConfirmDelete:S},mixins:[f.Z],inject:["viewStateStore","itemStore"],props:{session:{type:b.z,required:!0}},emits:["delete","restore"],data(){return{editingTitle:!1,tempTitle:this.session.displayName,deleteConfirmationOpen:!1}},unreactive:()=>({titleClickDebounce:0,titleClickCounter:0}),computed:{displayName(){return this.session.displayName},iconCrossBrowserWarnVisible(){return"chromium"===this.session.browser&&g.Z.isFirefox()||"moz"===this.session.browser&&g.Z.isChromium()}},watch:{async editingTitle(e){var t,s;e&&(await this.$nextTick(),null===(t=this.$refs.editingTitle)||void 0===t||t.focus(),await this.$nextTick(),null===(s=this.$refs.editingTitle)||void 0===s||s.select())}},methods:{openDeleteConfirmation(){this.deleteConfirmationOpen=!0},closeDeleteConfirmation(){this.deleteConfirmationOpen=!1},renameSession(){var e;this.editingTitle=!0,null===(e=this.$refs["tabs-dropdown"])||void 0===e||e.closeDropdown()},handleTitleChange(){var e;const t=null===(e=this.tempTitle)||void 0===e?void 0:e.trim();t?t!==this.displayName&&this.itemStore.update(this.session.id,{name:t}):this.revertTitle(),this.editingTitle=!1},revertTitle(){this.tempTitle=this.session.displayName,this.editingTitle=!1},switchViewToDetail(){this.itemStore.activeItemId=this.session.id,this.viewStateStore.setActiveView(w.S9.Detail)}}};s(23261);const T=(0,_.Z)(C,h,[],!1,null,"9dd4a4dc",null).exports;var k=function(){var e=this,t=e._self._c;return t("div",{staticClass:"degraded-plus-banner"},[e._v("\n\t"+e._s(e.expiredText)+" "),t("span",{on:{click:function(t){return e.$emit("renew")}}},[e._v(e._s(e.renewText))])])};k._withStripped=!0;const D={name:"DegradedPlusBanner",props:{renewText:{type:String,default:"Renew"},expiredText:{type:String,default:"Plus subscription expired."}},emits:["renew"]};s(61410);const Z=(0,_.Z)(D,k,[],!1,null,"07db59a2",null).exports;var A=s(92580),I=function(){var e=this,t=e._self._c;return t("div",{staticClass:"session-detail"},e._l(e.session.windows,(function(s){return t("div",{key:s.key,staticClass:"window"},[e.session.windows.length>1?t("div",{staticClass:"window-label",on:{click:function(t){return t.stopPropagation(),e.openPartialSession(s)}}},[e._v("Window")]):e._e(),e._v(" "),e._l(s.tabsAndGroups,(function(s){return[s.type===e.TabOrGroupType.Group?t("div",{key:s.key,staticClass:"group",style:{"--tab-group-color":`var(--tab-group-color-${s.color})`}},[t("div",{staticClass:"group-label",on:{click:function(t){return t.stopPropagation(),e.openPartialSession(s)}}},[e._v("Tab group")]),e._v(" "),e._l(s.tabs,(function(s){return t("session-detail-tab-item",{key:s.key,attrs:{tab:s},nativeOn:{click:function(t){return t.stopPropagation(),e.openPartialSession(s)}}})}))],2):s.type===e.TabOrGroupType.Tab?t("session-detail-tab-item",{key:s.key,attrs:{tab:s},nativeOn:{click:function(t){return t.stopPropagation(),e.openPartialSession(s)}}}):e._e()]}))],2)})),0)};I._withStripped=!0;var L=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tab",attrs:{title:e.tab.url}},[t("fav-icon",{staticClass:"favicon",attrs:{url:"chrome://newtab/"===e.tab.url?"https://momentumdash.com":e.tab.url}}),e._v(" "),t("div",{staticClass:"name"},[e._v(e._s(e.tab.title))])],1)};L._withStripped=!0;var R=s(28149);const E={name:"SessionDetailTab",components:{FavIcon:s(39134).Z},props:{tab:{type:R.O,required:!0}}};s(85549);const P=(0,_.Z)(E,L,[],!1,null,"1f1e6537",null).exports;var O=s(1724),V=s(94787),M=s(81405),z=s(25113);const F=(0,V.A)().tabStashService,N=new M.ZP({feature:"tab stash"}),U={name:"SessionDetail",components:{SessionDetailTabItem:P},props:{session:{type:b.z,required:!0}},unreactive:()=>({TabOrGroupType:O.LL}),methods:{openPartialSession(e){let t=1;e instanceof O.Rz&&(t=e.tabCount),e instanceof z.Z&&(t=e.tabs.length),N.capture("restore tabs",{tab_count:t,window_count:e instanceof O.Rz?1:0,partial:!0}),F.openPartialSession(e)}}};s(37061),s(30294);const $=(0,_.Z)(U,I,[],!1,null,"3f263805",null).exports;var B=s(16618),Y=s(63943),H=s(64438),q=s(18030),G=s(70287);const W=new M.ZP({feature:"tab stash"}),j=new H.Z("tab.tabStash.error"),K={name:"TabsApp",components:{AppViewSwitchDynamic:i.Z,AppPopup:o.Z,AppHeader:n.Z,AppLoading:r.Z,AppView:l.Z,AppEmpty:d.Z,AppConfirmCancel:c.Z,BaseDropdown:p.Z,BaseDropdownOption:u.Z,BaseItemList:v.default,SessionListItem:T,DegradedPlusBanner:Z,BaseDropdownDivider:A.Z,SessionDetail:$,AppHeaderControl:B.Z,SessionConfirmDelete:S},mixins:[q.Z],inject:["viewStateStore"],provide(){return{itemStore:this.tabsStore}},setup:()=>({tabsStore:(0,Y.default)(),loadingTimeout:null}),data:()=>({loadingStateActive:!1,deleteConfirmationOpen:!1}),computed:{sessions(){return this.tabsStore.getItems},empty(){return this.tabsStore.loaded&&!this.sessions.length},activeViewId(){return this.viewStateStore.activeViewId},activeView(){return this.viewStateStore.activeView},listViewActive(){return this.activeViewId===w.S9.List},detailViewActive(){return this.activeViewId===w.S9.Detail},isPlusDegraded:()=>m.conditionalFeatures.featureEnabled("tab-stash-degraded"),activeSession(){return this.sessions.find((e=>e.id===this.tabsStore.activeItemId))},deleteAllProps(){return{title:"Are you sure you want to delete all stashed sessions?",description:this.sessions.length+" session"+(this.sessions.length>1?"s":""),confirm:this.deleteAllSessions,confirmText:"Delete session"+(this.sessions.length>1?"s":""),cancel:this.closeDeleteConfirmation,cancelText:"Keep session"+(this.sessions.length>1?"s":"")}}},watch:{"tabsStore.loaded"(e){e&&(clearTimeout(this.loadingTimeout),this.loadingStateActive=!1)},listViewActive(e){e&&this.closeDeleteConfirmation()}},created(){this.tabsStore.loaded||(this.loadingTimeout=setTimeout((()=>{this.loadingStateActive=!0}),500),this.tabsStore.refresh())},methods:{openHelpArticle(){window.open(w.iW,"_blank")},closePopup(){this.viewStateStore.togglePopup(!1)},openDeleteConfirmation(){this.deleteConfirmationOpen=!0},closeDeleteConfirmation(){this.deleteConfirmationOpen=!1},async stashSession(){if(!(this.$plus||G.Z.currentValue&&0===this.sessions.length))return this.showUpsell();try{const e=await this.tabsStore.stashSession();if(!e)return;if(0===e.windows.length)return void this.showFlashMessage({icon:s(23275),message:w.sY.ERROR_NO_OTHER_TABS,id:this.flashMessageId});W.capture("stash tabs",{tab_count:e.totalTabCount,window_count:e.windows.length}),this.showFlashMessage({icon:s(23275),message:e.totalTabCount.toString()+" tab"+(e.totalTabCount>1?"s":"")+w.sY.SUCCESSFUL_STASH_PARTIAL})}catch(e){console.error(e),j.error("Tab Stash: stash session error",e),this.showFlashMessage({error:!0,message:w.sY.ERROR_STASH})}},restoreLastSession(){this.empty||this.restoreSession(this.sessions[0])},async restoreSession(e){try{if(!await this.tabsStore.restoreSession(e))return;W.capture("restore tabs",{tab_count:e.totalTabCount,window_count:e.windows.length}),this.showFlashMessage({icon:s(23275),message:e.displayName+w.sY.SUCCESSFUL_RESTORE_PARTIAL}),this.detailViewActive&&this.switchViewToList()}catch(t){console.error(t),t.sessionId=e.id,j.error("Tab Stash: restore session error",t),this.showFlashMessage({error:!0,message:w.sY.ERROR_RESTORE})}},async deleteAllSessions(){var e;const t=await Promise.allSettled(this.sessions.map((e=>this.tabsStore.delete(e.id))));null===(e=this.$refs.confirmationDropdown)||void 0===e||e.closeDropdown();const s=t.filter((e=>"rejected"===e.status));0===s.length?this.showFlashMessage({message:w.sY.SUCCESSFUL_ALL_DELETE}):(j.error("Tab Stash: delete all sessions error",{errors:s.map((e=>e.reason))}),this.showFlashMessage({error:!0,message:w.sY.ERROR_ALL_DELETE}))},async deleteSession(e){try{await this.tabsStore.delete(e.id),this.showFlashMessage({icon:s(23275),message:e.displayName+w.sY.DELETE_PARTIAL}),this.detailViewActive&&this.switchViewToList()}catch(e){j.error("Tab Stash: delete session error",e),this.showFlashMessage({error:!0,message:w.sY.ERROR_DELETE})}},switchViewToList(){this.viewStateStore.setActiveView(w.S9.List),this.tabsStore.activeItemId=""},showUpsell(){m.cmd("modal.open","UPSELL_TAB_STASH",{eventSource:"dash"})}}};s(64465);const J=(0,_.Z)(K,a,[],!1,null,"e3608438",null).exports},92553:(e,t,s)=>{var a=s(51953);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(45346).Z)("1de43d6f",a,!1,{})},37061:(e,t,s)=>{var a=s(13122);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(45346).Z)("9482e90e",a,!1,{})},30294:(e,t,s)=>{var a=s(80017);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(45346).Z)("12714f7a",a,!1,{})},85549:(e,t,s)=>{var a=s(20039);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(45346).Z)("42920500",a,!1,{})},23261:(e,t,s)=>{var a=s(97898);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(45346).Z)("bd0b9fa6",a,!1,{})},37809:(e,t,s)=>{var a=s(79728);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(45346).Z)("0f014e39",a,!1,{ssrId:!0})},30836:(e,t,s)=>{var a=s(63423);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(45346).Z)("1a9340b4",a,!1,{ssrId:!0})},61410:(e,t,s)=>{var a=s(62459);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(45346).Z)("2b8b33ba",a,!1,{ssrId:!0})},64465:(e,t,s)=>{var a=s(91299);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(45346).Z)("b4ea1a9a",a,!1,{ssrId:!0})}}]);