(globalThis.webpackChunkmomentum=globalThis.webpackChunkmomentum||[]).push([[6047],{46235:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>r});var i=e(8081),s=e.n(i),o=e(23645),n=e.n(o)()(s());n.push([t.id,"\n/* stylelint-disable */\n.app[data-v-70c11810] { min-height: 100%; position: fixed; top: 0; right: 0; bottom: 0; left: 250px; z-index: 5; display: flex; flex-direction: column; border-radius: 0;\n}\n.app header[data-v-70c11810] { margin: var(--app-padding); margin-bottom: calc(var(--app-padding) * 1.5); display: flex; align-items: center;\n}\n.back[data-v-70c11810] {\n}\n.back[data-v-70c11810]:after { --size: 36px; height: var(--size); width: var(--size);\n}\n.back .icon[data-v-70c11810] { --size: 12px; height: var(--size); width: var(--size);\n}\n.app header h2[data-v-70c11810] { margin: 0; padding: 0; display: inline-block; font-size: 1.9375rem; font-weight: 500;\n}\n.button-edit[data-v-70c11810] { height: 40px; margin-bottom: -4px; margin-left: 1rem; padding: 0 19px 1px; display: inline-flex; align-items: center; opacity: 0.8; background: none !important; transition: all 0.1s ease;\n}\n.button-edit[data-v-70c11810]:hover { opacity: 1; background: var(--color-stop-1) !important;\n}\n.button-edit[data-v-70c11810]:hover:active { background: var(--color-stop-2) !important; transition-duration: 0s;\n}\n.edit-icon[data-v-70c11810] { --icon-size: 11px; margin-right: 7px; margin-left: -5px; margin-bottom: -1px; opacity: 0.45;\n}\n.edit-label[data-v-70c11810] { opacity: 0.8; color: var(--color-text); font-size: 0.8125rem;\n}\nheader .spacer[data-v-70c11810] { flex-grow: 1;\n}\n\n    /* Old close method */\n    /*\n    .close { padding: 15px 20px; position: absolute; top: 0; right: 0; opacity: 0.6; cursor: pointer; transition: opacity 0.15s ease; }\n        .close:hover { opacity: 1; }\n    */\n.spacer[data-v-70c11810] {\n}\n.spacer-top[data-v-70c11810] { flex-grow: 1;\n}\n.spacer-bot[data-v-70c11810] { flex-grow: 3.2;\n}\n.topics-main[data-v-70c11810] { flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;\n}\n.categories[data-v-70c11810] { --icon-height: 25px; --icon-width: 25px; width: 100%; padding: var(--app-padding); display: grid; grid-template-columns: repeat(3, minmax(150px, 1fr)); grid-auto-rows: max-content; grid-column-gap: 3rem; grid-row-gap: 3rem;\n}\n.category[data-v-70c11810] { margin-bottom: 1rem; flex-grow: 0;\n}\n.category-header[data-v-70c11810] { margin-bottom: 1rem; display: flex; align-items: center;\n}\n.category-icon[data-v-70c11810] { max-height: var(--icon-height); width: var(--icon-width); margin-right: 0.75rem; opacity: 0.85; filter: var(--filter-dark-invert);\n}\n.category-title[data-v-70c11810] { min-height: var(--icon-height); opacity: 0.9; font-size: 1.3125rem; font-weight: 600; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\n}\n.topic a[data-v-70c11810] { margin: 0 -12px; padding: 7px 12px; display: block; color: var(--color-stop-6); overflow: hidden; text-overflow: ellipsis; transition: 0.1s ease; white-space: nowrap;\n}\n.topic a[data-v-70c11810]:hover { color: var(--color-text); text-decoration: underline;\n}\n.topic a[data-v-70c11810]:active { color: var(--color-stop-5);\n}\n.category-num-1[data-v-70c11810] { grid-template-columns: repeat(1, 50%);\n}\n.category-num-2[data-v-70c11810] { grid-template-columns: repeat(2, 1fr);\n}\n.category-num-4[data-v-70c11810] { grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(2, max-content);\n}\n.empty-state[data-v-70c11810] { opacity: 0.45;\n}\n\n\n/* Animations */\n.swipe-left-enter-active[data-v-70c11810], .swipe-left-leave-active[data-v-70c11810] { transition: transform var(--a-show-full-duration) var(--a-show-full-curve), opacity var(--a-show-full-duration) var(--a-show-full-curve);\n}\n.swipe-left-enter[data-v-70c11810], .swipe-left-leave-to[data-v-70c11810] { opacity: 0; transform: translateX(1rem);\n}\n\n",""]);const r=n},16047:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>n});var i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"app app-topics",attrs:{id:"topics-app","data-test":"topics-container"}},[a("header",[a("h2",[t._v("Topics")]),t._v(" "),t.isAdmin?a("a",{staticClass:"button button-edit",attrs:{target:"_blank"},on:{click:function(a){return t.editInAccountSite()}}},[a("inline-svg",{staticClass:"icon edit-icon",attrs:{src:e(13228)}}),t._v(" "),a("span",{staticClass:"edit-label"},[t._v("Edit")])],1):t._e(),t._v(" "),a("div",{staticClass:"spacer"}),t._v(" "),a("div",{staticClass:"icon-wrapper back",attrs:{"data-test":"close"},on:{click:function(a){return a.stopPropagation(),t.$emit("close")}}},[a("inline-svg",{staticClass:"icon icon-hide",attrs:{src:e(21794)}})],1)]),t._v(" "),a("section",{staticClass:"topics-main"},[a("div",{staticClass:"spacer spacer-top"}),t._v(" "),t.isEmpty?t._e():a("ul",{staticClass:"categories",class:t.categoryCount,attrs:{"data-test":"categories"}},t._l(t.topicData,(function(e,i){return a("li",{key:i,staticClass:"category"},[a("div",{staticClass:"category-header"},[e.iconUrl?a("img",{staticClass:"category-icon",attrs:{src:e.iconUrl}}):t._e(),t._v(" "),a("div",{staticClass:"category-title"},[t._v(t._s(e.title))])]),t._v(" "),a("ul",{staticClass:"topics",attrs:{"data-test":"topics-list"}},t._l(e.topics,(function(e,i){return a("li",{key:i,staticClass:"topic",attrs:{"data-test":"topic"}},[t.isUrlLocalFileLink(e.url)?a("a",{key:"i",staticClass:"u--pointer",attrs:{title:e.url},on:{click:function(a){return t.newTabForFileLink(e.url)}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t")]):a("a",{key:"i",attrs:{href:e.url}},[t._v(t._s(e.title))])])})),0)])})),0),t._v(" "),t.isLoading?a("section",{staticClass:"empty-state"},[a("span",{staticClass:"empty-message"},[t._v("Loading...")])]):t._e(),t._v(" "),t.isEmpty?a("section",{staticClass:"empty-state"},[a("span",{staticClass:"empty-message"},[t._v("Your team hasn't added any topics yet.")])]):t._e(),t._v(" "),a("div",{staticClass:"spacer spacer-bot"})])])};i._withStripped=!0;const s=new(e(20144).ZP.extend({name:"TopicDataManager",data:()=>({rawData:{},topicData:[],loaded:!1}),localStorageKey:"topic_data",created(){this.rawData=localStorage.getObject("topics"),this.rawData&&(this.$set(this,"topicData",this.buildHierarchy(this.rawData)),this.loaded=!0),this.getData().then((t=>{this.rawData=t,localStorage.setObject("topics",this.rawData),this.$set(this,"topicData",this.buildHierarchy(this.rawData)),this.loaded=!0}))},methods:{getData:()=>new Promise(((t,a)=>{$.ajax({url:m.globals.urlRootApi+"team/topics",success:a=>{t(a)},error:t=>{a(t)}})})),sort:(t,a)=>t.order-a.order,buildHierarchy(t){let a=[];return t&&t.categories&&t.categories.forEach((t=>{t.topics=[],a.push(t)})),t&&t.topics&&t.topics.forEach((t=>{a.filter((a=>a.id===t.categoryId)).forEach((a=>{a.topics.push(t)}))})),a.sort(this.sort).forEach((t=>t.topics.sort(this.sort))),a}}})),o={name:"TopicsApp",computed:{isLoading:()=>!s.loaded,isEmpty(){return!(this.isLoading||this.topicData&&this.topicData.length)},topicData:()=>s.topicData,isAdmin:()=>m.models.teamInfo.get("team").userIsAdmin,categoryCount(){return"category-num-"+this.topicData.length}},mounted(){m.trigger("notification:hide"),this.addListeners(),m.widgetManager.hideApps({exemptionSelectors:".topics, #team-logo"}),m.trigger("topics:open")},destroyed(){m.widgetManager.showApps(),m.trigger("topics:closed"),this.removeListeners()},methods:{editInAccountSite(){m.commandManager.execute("window.account.open","/team/topics")},handleGlobalClick(t){this.$parent.$el&&!this.$parent.$el.contains(t.target)&&this.$emit("close")},addListeners(){m.on("globalEvent:esc",this.closeApp),m.on("globalEvent:click",this.handleGlobalClick)},removeListeners(){m.off("globalEvent:esc",this.closeApp),m.off("globalEvent:click",this.handleGlobalClick)},closeApp(){this.$emit("close")},newTabForFileLink(t){m.utils.newTabForFileLink(t)},isUrlLocalFileLink:t=>m.utils.isUrlLocalFileLink(t)}};e(83009);const n=(0,e(51900).Z)(o,i,[],!1,null,"70c11810",null).exports},83009:(t,a,e)=>{var i=e(46235);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,e(45346).Z)("5be2f251",i,!1,{ssrId:!0})}}]);