(globalThis.webpackChunkmomentum=globalThis.webpackChunkmomentum||[]).push([[842],{52559:(t,e,a)=>{"use strict";a.d(e,{Z:()=>s});const s={props:{orderKey:{type:Number,default:null},transition:{type:[String,Array],default:()=>["slide-left","slide-right"]}},data:()=>({reverseTransition:!1,transitionActive:!1}),computed:{transitionType(){let t,e;return Array.isArray(this.transition)?[t,e]=this.transition:"string"==typeof this.transition&&(t=e=this.transition),this.reverseTransition?e:t}},watch:{orderKey(t,e){e&&(this.reverseTransition=e>t)}},methods:{beforeTransition(){this.transitionActive=!0},afterTransition(){this.transitionActive=!1}}}},54054:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});var s=a(8081),i=a.n(s),n=a(23645),r=a.n(n)()(i());r.push([t.id,".chat-content[data-v-303e2a9c]{--body-min-height: 220px;line-height:145%}.chat-messages[data-v-303e2a9c]{display:flex;flex-direction:column;justify-content:flex-end;padding:0 calc(var(--app-padding) - (var(--width) - 100%)) 0 var(--app-padding);text-align:left}.chat-messages>.smooth-reflow.is-assistant[data-v-303e2a9c]{border-radius:var(--border-radius);background-color:var(--color-stop-1)}.app-empty[data-v-303e2a9c]{min-height:var(--body-min-height);flex-shrink:0}.user-input-footer[data-v-303e2a9c]{display:flex;align-items:center;margin:1rem var(--app-padding) 0;border-radius:22px;background-color:var(--color-stop-1);gap:.25rem}.user-input-footer textarea[data-v-303e2a9c]{padding:12px 20px;border:none !important;color:var(--color-stop-5);font-size:15px}.user-input-footer .submit[data-v-303e2a9c]{--color-button: transparent;--color-icon: hsl(var(--color-base));--icon-size: 14px;--color-button-hover: var(--color-stop-2);--color-button-active: var(--color-stop-3);padding:7px}.user-input-footer .submit .button-icon[data-v-303e2a9c]{--padding: 7px;--icon-wrapper-size: calc(var(--icon-size) + var(--padding) * 2);width:var(--icon-wrapper-size);height:var(--icon-wrapper-size);display:flex;align-items:center;align-self:flex-end;padding:var(--padding);border:1px solid var(--color-stop-3);border-radius:100px}.user-input-footer .submit.disabled[data-v-303e2a9c],.user-input-footer textarea:placeholder-shown+.submit[data-v-303e2a9c]{--color-button-hover: transparent;--color-button-active: transparent;opacity:var(--opacity-stop-5)}[data-v-303e2a9c] .app-header .header-left{width:auto;padding-top:5px}[data-v-303e2a9c]  .app-body{display:flex;flex-direction:column-reverse}@media screen and (width <= 450px){.chat-messages[data-v-303e2a9c]{padding:0 var(--app-padding)}}",""]);const o=r},1176:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});var s=a(8081),i=a.n(s),n=a(23645),r=a.n(n)()(i());r.push([t.id,".chat-message[data-v-2e6d3bfd]{display:flex;align-items:center;padding:16px;white-space:pre-line;-webkit-user-select:text;user-select:text;gap:1rem}.chat-message .avatar[data-v-2e6d3bfd]{--icon-size: 20px;display:flex;flex-shrink:0;align-self:flex-start;border-radius:var(--icon-size);color:var(--color-text)}.chat-message .avatar.gravatar[data-v-2e6d3bfd]{width:var(--icon-size);height:var(--icon-size);object-fit:cover}.chat-message .content-container[data-v-2e6d3bfd]{width:0;flex-grow:1;font-size:15px}.chat-message .icon-ai[data-v-2e6d3bfd]{--icon-size: 20px;--color-icon: var(--color-stop-5);--icon-wrapper-size: 20px;width:var(--icon-wrapper-size);height:var(--icon-wrapper-size)}.chat-message .button[data-v-2e6d3bfd]{-webkit-user-select:none;user-select:none}.chat-message .action-section[data-v-2e6d3bfd]{display:flex;align-items:center;padding-top:12px;gap:11px}.chat-message .action-section .regenerate-controls[data-v-2e6d3bfd]{display:flex;align-items:center;margin-left:-5px;gap:3px}.chat-message .action-section .regenerate-controls .icon-next[data-v-2e6d3bfd]{margin-left:1px;transform:rotate(180deg)}.chat-message .action-section .regenerate-controls .icon-prev[data-v-2e6d3bfd]{margin-right:1px}.chat-message .action-section .regenerate-controls .icon-wrapper[data-v-2e6d3bfd]{opacity:var(--opacity-stop-5)}.chat-message .action-section .regenerate-controls .icon-wrapper.disabled[data-v-2e6d3bfd]{--hover-bg: transparent;--active-bg: transparent;opacity:var(--opacity-stop-3)}.chat-message .action-section .regenerate-controls .answer-indicator[data-v-2e6d3bfd]{color:var(--color-stop-6);font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.fade-height-zero-leave-active[data-v-2e6d3bfd]{height:0;opacity:0;overflow:visible;transition:opacity var(--duration) var(--a-curve)}",""]);const o=r},82076:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});var s=a(8081),i=a.n(s),n=a(23645),r=a.n(n)()(i());r.push([t.id,".content[data-v-62618cc6] *{margin:.75rem 0;word-break:break-word}.content[data-v-62618cc6] *:first-child{margin-top:0}.content[data-v-62618cc6] *:last-child{margin-bottom:0}.content[data-v-62618cc6] p{padding:0}.content[data-v-62618cc6] ul,.content[data-v-62618cc6] ol{padding:0 0 0 1.25rem;list-style:revert}.content[data-v-62618cc6] ul li,.content[data-v-62618cc6] ol li{margin:.25rem 0}.content[data-v-62618cc6] ul li p,.content[data-v-62618cc6] ol li p{margin:0}.content[data-v-62618cc6]>p:last-child{margin-bottom:0}.content[data-v-62618cc6] hr{margin:.5rem 0}.content[data-v-62618cc6] blockquote{padding-left:.5rem;border-left:var(--color-text) .125rem solid}.content[data-v-62618cc6] code{padding:.15rem}.content[data-v-62618cc6] pre,.content[data-v-62618cc6] code{max-width:100%;padding:.25rem;overflow:auto;border-radius:.25rem;background-color:var(--color-stop-1)}.content[data-v-62618cc6] pre code,.content[data-v-62618cc6] code code{padding:0;border-radius:0;background-color:unset}",""]);const o=r},93669:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});var s=a(8081),i=a.n(s),n=a(23645),r=a.n(n)()(i());r.push([t.id,"\n/* stylelint-disable */\n.app-empty[data-v-0447c7fa] { padding: var(--app-padding); flex-grow: 1; display: flex; flex-direction: column; gap: 10px; align-items: center; justify-content: center; text-align: center;\n}\n.title[data-v-0447c7fa] { opacity: var(--opacity-stop-6); white-space: pre-line; line-height: 125%;\n}\n.description[data-v-0447c7fa] { opacity: var(--opacity-stop-4); font-size: 0.9rem;\n}\n",""]);const o=r},63423:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});var s=a(8081),i=a.n(s),n=a(23645),r=a.n(n)()(i());r.push([t.id,"\n/* stylelint-disable */\n.app-view-switch[data-v-17d271a2] { min-height: 0; width: 100%;\n}\n.app-view-switch.transitioning[data-v-17d271a2] { overflow: hidden !important;\n}\n.smooth-height-slide-left-enter-active[data-v-17d271a2],\n\t.smooth-height-slide-left-leave-active[data-v-17d271a2],\n\t.smooth-height-slide-right-enter-active[data-v-17d271a2],\n\t.smooth-height-slide-right-leave-active[data-v-17d271a2] { transition: transform 300ms ease;\n}\n.smooth-height-slide-left-leave-active[data-v-17d271a2], .smooth-height-slide-right-leave-active[data-v-17d271a2] { position: absolute; top: 0; right: 0; left: 0;\n}\n.smooth-height-slide-left-leave-to[data-v-17d271a2], .smooth-height-slide-right-enter[data-v-17d271a2] { transform: translateX(-100%);\n}\n.smooth-height-slide-left-enter[data-v-17d271a2], .smooth-height-slide-right-leave-to[data-v-17d271a2] { transform: translateX(100%);\n}\n.smooth-height-slide-left-enter-active[data-v-17d271a2] .app-body,\n\t.smooth-height-slide-left-leave-active[data-v-17d271a2] .app-body,\n\t.smooth-height-slide-right-enter-active[data-v-17d271a2] .app-body,\n\t.smooth-height-slide-right-leave-active[data-v-17d271a2] .app-body { overflow: hidden;\n} /* hides scrollbar when transitioning between views */\n",""]);const o=r},79613:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});var s=a(8081),i=a.n(s),n=a(23645),r=a.n(n)()(i());r.push([t.id,"\n.animated-ellipses span[data-v-563f0e90] {\n\tanimation: blink-563f0e90 1s infinite;\n}\n@keyframes blink-563f0e90 {\n0% {\n\t\topacity: 0;\n}\n50% {\n\t\topacity: 1;\n}\n100% {\n\t\topacity: 0;\n}\n}\n",""]);const o=r},10842:(t,e,a)=>{"use strict";a.d(e,{Z:()=>M});var s=function(){var t=this,e=t._self._c;return e("app-view-switch-dynamic",{staticClass:"chat-content"},[e("app-view",{scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{attrs:{"show-close-button-on":t.AppHeaderCloseOn.All},on:{close:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"left",fn:function(){return[e("inline-svg",{staticClass:"icon app-header-icon",attrs:{src:a(98944)}}),t._v(" "),e("span",{staticClass:"app-header-name"},[t._v("Ask AI")])]},proxy:!0},{key:"right",fn:function(){return[e("app-header-control",{staticClass:"new-chat",on:{click:function(e){return t.chatStore.clear()}}},[e("inline-svg",{staticClass:"icon icon-plus",attrs:{src:a(76450)}})],1)]},proxy:!0}])})]},proxy:!0},{key:"body",fn:function(){return[e("transition",{attrs:{name:"fade",mode:"out-in",duration:"100"}},[0===t.chatStore.chat.length?e("app-empty",{key:"empty",attrs:{description:"Type a prompt to get started"}}):e("div",{key:"chat",staticClass:"chat-messages"},t._l(t.visibleChatMessages,(function(a,s){return e("smooth-reflow",{key:s,class:{"is-assistant":"assistant"===a.role},attrs:{appear:t.messagesAppearTransitionEnabled,nested:"","hide-overflow":""}},[e("chat-message",t._b({key:a.content,staticClass:"chat-message",on:{regenerate:t.regenerate,resubmit:t.resubmit,prev:function(e){t.chatStore.selectedLastResponseIndex--},next:function(e){t.chatStore.selectedLastResponseIndex++}}},"chat-message",a,!1))],1)})),1)],1)]},proxy:!0},{key:"footer",fn:function(){return[e("div",{staticClass:"user-input-footer"},[e("textarea-autosize",{ref:"input",attrs:{placeholder:"Ask AI anything…","max-height":350,rows:"1","data-test":"input"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnterKeyDown(e)}},model:{value:t.chatStore.input,callback:function(e){t.$set(t.chatStore,"input",e)},expression:"chatStore.input"}}),t._v(" "),e("button",{staticClass:"button submit",class:{disabled:!t.chatStore.canSubmit},attrs:{disabled:!t.chatStore.canSubmit},on:{click:t.submit}},[e("div",{staticClass:"button-icon"},[e("inline-svg",{staticClass:"icon",attrs:{src:a(87975)}})],1)])],1)]},proxy:!0}])})],1)};s._withStripped=!0;var i=a(24871),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"chat-message"},[t.isUser?e("gravatar",{staticClass:"avatar",attrs:{email:t.baseEmail}}):e("div",{staticClass:"avatar icon-ai"},[t.error?e("inline-svg",{staticClass:"icon",attrs:{src:a(63741)}}):e("inline-svg",{staticClass:"icon",attrs:{src:a(98944)}})],1),t._v(" "),e("div",{staticClass:"content-container"},[t.processing?e("animated-ellipses",{key:"processing",attrs:{"data-test":"loading"}}):e("markdown-display",{key:"content",attrs:{"data-test":"message"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),e("transition",{attrs:{name:"fade-height-zero"}},[t.showRegenerate?e("div",[e("div",{staticClass:"action-section"},[t.totalResponseCount>1?e("span",{staticClass:"regenerate-controls"},[e("span",{staticClass:"icon-wrapper",class:{disabled:t.prevButtonDisabled},on:{click:()=>{t.prevButtonDisabled||t.$emit("prev")}}},[e("inline-svg",{staticClass:"icon icon-prev",attrs:{src:a(86043)}})],1),t._v(" "),e("span",{staticClass:"answer-indicator"},[t._v(" "+t._s(t.selectedAnswer+1)+"/"+t._s(t.totalResponseCount)+" ")]),t._v(" "),e("span",{staticClass:"icon-wrapper",class:{disabled:t.nextButtonDisabled},on:{click:()=>{t.nextButtonDisabled||t.$emit("next")}}},[e("inline-svg",{staticClass:"icon icon-next",attrs:{src:a(86043)}})],1)]):t._e(),t._v(" "),e("button",{staticClass:"button button-neutral button-small",attrs:{"data-test":"regenerate"},on:{click:function(e){return t.$emit("regenerate")}}},[t._v("Regenerate")])])]):t._e()]),t._v(" "),t.error?e("div",{staticClass:"action-section"},[e("button",{staticClass:"button button-neutral",attrs:{"data-test":"retry"},on:{click:function(e){return t.$emit("resubmit")}}},[t._v("Retry")])]):t._e()],1)],1)};n._withStripped=!0;var r=function(){return(0,this._self._c)("img",{staticClass:"gravatar",attrs:{src:this.src}})};r._withStripped=!0;const o={name:"Gravatar",props:{email:{type:String,required:!0},size:{type:Number,default:50}},computed:{src(){return"https://www.gravatar.com/avatar/"+md5(this.email)+"?s="+this.size+"&d=mm"}}};var c=a(51900);const l=(0,c.Z)(o,r,[],!1,null,null,null).exports;var d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"animated-ellipses"},t._l(3,(function(a){return e("span",{key:a,style:{"animation-delay":100*a+"ms"}},[t._v("•")])})),0)};d._withStripped=!0;a(50330);const p=(0,c.Z)({name:"AnimatedEllipses"},d,[],!1,null,"563f0e90",null).exports;var h=a(70237),u=function(){var t=this;return(0,t._self._c)("div",{staticClass:"content",domProps:{innerHTML:t._s(t.getHtmlContent)}})};u._withStripped=!0;var v=a(9980),g=a.n(v);const f={name:"MarkdownDisplay",props:{value:{type:String,default:""}},computed:{getHtmlContent(){return this.md.render(this.value).replaceAll(">\n<","><").trim()}},unreactive:()=>({md:new(g())})};a(91124);const b={name:"ChatMessage",unreactive:()=>({email:localStorage.getItem("email")||""}),components:{AnimatedEllipses:p,Gravatar:l,MarkdownDisplay:(0,c.Z)(f,u,[],!1,null,"62618cc6",null).exports},props:{content:{type:String,default:""},processing:{type:Boolean,default:!1},role:{type:String,required:!0},error:{type:Boolean,default:!1},showRegenerate:{type:Boolean,default:!1},totalResponseCount:{type:Number,default:1},selectedAnswer:{type:Number,default:0}},computed:{baseEmail(){return h.Z.getBaseEmail(this.email)},isUser(){return"user"===this.role},prevButtonDisabled(){return 0===this.selectedAnswer},nextButtonDisabled(){return this.selectedAnswer===this.totalResponseCount-1}}};a(6240);const y=(0,c.Z)(b,n,[],!1,null,"2e6d3bfd",null).exports;var w=a(36399),x=a(321),_=a(14582),C=a(63892),S=a(63420),k=a(47932),A=a(22745),z=a(16618),T=a(5842);const Z={name:"ChatContent",components:{AppHeaderControl:z.Z,SmoothReflow:w.Z,ChatMessage:y,AppView:i.Z,AppViewSwitchDynamic:x.Z,AppHeader:_.Z,AppEmpty:C.Z},inject:["capture"],data:()=>({processingMessageActive:!1,messagesAppearTransitionEnabled:!1}),computed:{...(0,S.Kc)(k.a),visibleChatMessages(){const t=[...this.chatStore.chatMessages];return this.processingMessageActive&&t.push({role:"assistant",processing:!0}),t}},watch:{"chatStore.processing":{handler(t){t?this.processingTimeout=setTimeout((()=>this.processingMessageActive=!0),1e3):(clearTimeout(this.processingTimeout),this.processingMessageActive=!1)},immediate:!0}},unreactive:()=>({processingTimeout:void 0,AppHeaderCloseOn:T.j}),created(){m.utils.delay(0).then((()=>{this.focus(),this.messagesAppearTransitionEnabled=!0}))},methods:{async submit(){this.focus();const t=this.chatStore.input.length;await this.chatStore.submit({afterSuccess:()=>this.captureAnalyticsWithCommonProps("send message",{message_length:t}),afterError:()=>this.captureAnalyticsWithCommonProps("send message error",{message_length:t})}),this.focus()},async resubmit(){var t;if(A.dS.includes(null===(t=this.chatStore.error)||void 0===t?void 0:t.type))this.chatStore.editLastMessage(),this.focus();else{const t=this.chatStore.input.length;await this.chatStore.resubmit({afterSuccess:()=>this.captureAnalyticsWithCommonProps("send message",{message_length:t,resubmit:!0}),afterError:()=>this.captureAnalyticsWithCommonProps("send message error",{message_length:t,resubmit:!0})})}},async regenerate(){this.processingMessageActive=!0,await this.chatStore.regenerate({afterSuccess:()=>this.captureAnalyticsWithCommonProps("regenerate message"),afterError:()=>this.captureAnalyticsWithCommonProps("regenerate message error")}),this.focus()},focus(){var t,e;null===(t=this.$refs.input)||void 0===t||null===(e=t.$el)||void 0===e||e.focus()},handleEnterKeyDown(t){t.shiftKey||(t.preventDefault(),this.chatStore.canSubmit&&this.submit())},captureAnalyticsWithCommonProps(t,e={}){this.capture(t,{message_count:this.chatStore.chatMessages.length,...this.chatStore.error?{error_type:this.chatStore.error.type,error_message:this.chatStore.error.message}:{},...e})}}};a(58497);const M=(0,c.Z)(Z,s,[],!1,null,"303e2a9c",null).exports},63892:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-empty"},[e("div",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),e("div",{staticClass:"description"},[t._v(t._s(t.description))]),t._v(" "),t.buttonText?e("div",{staticClass:"button",attrs:{"data-test":t.buttonDataTest},on:{click:function(e){return t.$emit("buttonClick")}}},[t._v(t._s(t.buttonText))]):t._e()])};s._withStripped=!0;const i={name:"AppEmpty",props:{title:{type:String,default:""},description:{type:String,default:""},buttonText:{type:String,default:""},buttonDataTest:{type:String,default:"empty-state-button"}}};a(32731);const n=(0,a(51900).Z)(i,s,[],!1,null,"0447c7fa",null).exports},321:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=function(){var t=this,e=t._self._c;return e("smooth-reflow",{staticClass:"app-view-switch app-view-switch-dynamic",class:{transitioning:t.transitionActive},attrs:{transition:t.transitionType,disabled:t.smoothReflowDisabled,"hide-overflow":!0,duration:300},on:{beforeLeave:t.beforeTransition,beforeEnter:t.beforeTransition,afterEnter:t.afterTransition,afterResize:t.afterResize}},[e("div",{key:t.orderKey},[t._t("default")],2)])};s._withStripped=!0;var i=a(36399),n=a(52559);const r={name:"AppViewSwitch",components:{SmoothReflow:i.Z},mixins:[n.Z],inject:["appDimensions"],props:{transition:{type:[String,Array],default:()=>["smooth-height-slide-left","smooth-height-slide-right"]}},emits:["afterResize"],computed:{smoothReflowDisabled(){const{height:t,maxHeight:e}=this.appDimensions;return null===e||null===t||!!(t>=e-20&&t<=e+20)}},methods:{afterResize(){this.$emit("afterResize")}}};a(30836);const o=(0,a(51900).Z)(r,s,[],!1,null,"17d271a2",null).exports},58497:(t,e,a)=>{var s=a(54054);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,a(45346).Z)("d07c94e8",s,!1,{})},6240:(t,e,a)=>{var s=a(1176);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,a(45346).Z)("3f81923c",s,!1,{})},91124:(t,e,a)=>{var s=a(82076);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,a(45346).Z)("5b14e723",s,!1,{})},32731:(t,e,a)=>{var s=a(93669);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,a(45346).Z)("0fce56fd",s,!1,{ssrId:!0})},30836:(t,e,a)=>{var s=a(63423);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,a(45346).Z)("1a9340b4",s,!1,{ssrId:!0})},50330:(t,e,a)=>{var s=a(79613);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,a(45346).Z)("46bf8320",s,!1,{ssrId:!0})}}]);