"use strict";(globalThis.webpackChunkmomentum=globalThis.webpackChunkmomentum||[]).push([[6767],{40531:(e,t,s)=>{s.d(t,{Fl:()=>i,Jr:()=>u,ax:()=>d,tJ:()=>l,wA:()=>n});var a=s(83578);const o=new a.Z.observable({}),i=new Proxy(o,{get:(e,t)=>(Object.prototype.hasOwnProperty.call(e,t)||a.Z.set(e,t,m.models.customization.getComputedSetting(t)),e[t]),set:()=>(console.warn('Computed settings cannot be set by reactiveCustomization. Instead set persistent settings with "persistent"'),!1)}),n=new Proxy(o,{get:(e,t)=>JSON.parse(i[t+"Str"]),set:()=>(console.warn('Computed settings cannot be set by reactiveCustomization. Instead set persistent settings with "persistent"'),!1)}),r=new a.Z.observable({}),d=new Proxy(r,{get:(e,t)=>(Object.prototype.hasOwnProperty.call(e,t)||a.Z.set(e,t,m.models.customization.get(t)),e[t]),set:(e,t,s)=>(m.models.customization.save(t,s),a.Z.set(e,t,s),!0)}),l=new Proxy(r,{get:(e,t)=>JSON.parse(d[t+"Str"]),set:(e,t,s)=>(d[t+"Str"]=JSON.stringify(s),!0)});function u(e={}){Object.entries(e).forEach((([e,t])=>a.Z.set(r,e,t))),m.models.customization.save(e)}m.models.customization.on("change",(e=>{e&&("balanceModeStr"in e.changed&&Object.entries(m.models.customization.attributes).forEach((([e,t])=>a.Z.set(o,e,t))),Object.entries(e.changed).forEach((([e,t])=>{a.Z.set(o,e,m.models.customization.getComputedSetting(e)),a.Z.set(r,e,t)})))})),m.on("customization:update",(e=>{e.forEach((e=>{a.Z.set(o,e,m.models.customization.getComputedSetting(e)),a.Z.set(r,e,m.models.customization.get(e))}))}))},54046:(e,t,s)=>{var a;s.d(t,{BD:()=>r,Le:()=>u,P7:()=>p,Tt:()=>d,VQ:()=>a,_d:()=>n,c:()=>h,cb:()=>l,ie:()=>o,mQ:()=>i,oF:()=>c,sk:()=>m}),function(e){e.Idle="idle",e.Transition="transition",e.Focusing="focusing",e.Celebration="celebration"}(a||(a={}));const o="Focus Mode ended due to inactivity.",i=500,n=4e3,r=["tabs","soundscapes","notes","focus-mode","focus-mode-app","pomodoro","pomodoro-settings","focus","clock","greeting","mantra","focus","big-search","launchpad","links"],d=".todo, .settings",l="soundscapes:shoudResumeOnReload",u=36e5,c=108e5,m=4500,p=["I am centered and focused on my next task","Deep focus is the key to meaningful work","I'm focused on my most meaningful work","Deep work leads to mindful productivity ","I'm connected to my why and focused on the next step","I choose to focus to create my best work","I'm moving forward on what matters","Focus is the key to satisfying work","Distractions have no power over me","Unstoppable focus powers success","I'll let distracting thoughts float away","This is my intentional work time","This is my mindful productivity time","This is my time to access flow state","This is my time for deep work","This is my time to move toward my why","This is my time to complete important tasks","I will take on each task one at a time","I give myself permission to focus on only one thing","This is my time to take action on essential tasks","Block out everything but your next task","I give myself permission to zone in and ignore distractions","I claim this time to focus on what matters","I am connected to my purpose","I am connected to the bigger vision","Focus is my superpower","Deep work is my superpower","Now is the time to tune out the world and focus","Now is the time to move toward my goals","Now is the time to take the next step","Now is the time to move on what matters","I am an unstoppable force of focus","I commit to mindful productivity","Narrow your focus for extraordinary results.","I give my undivided attention to what matters most.","“Until my ONE Thing is done — everything else is a distraction.” - Gary Keller",'"Multitasking is a lie" - Gary Keller',"With undivided attention, I can get it done.","The time I invest with 100% focus yields the most success.","I'm honoring what's important with undivided attention.","I will reach the next milestone with 100% focus.","With practice, I can cultivate lasting deep focus.","I give the best I have to the task at hand.","I am focused on a single direction and one task at a time.","Ignore everything but your most essential task.","One focused step every day creates extraordinary results.","“Focus is a matter of deciding what things you’re not going to do.” —John Carmack","I dedicate my willpower to accomplish one task.","My purpose guides my focus.","My ritual for success is deep work."],h=["Well done! Each moment of deep focus helps you build a stronger, more resilient mind.","Incredible work! Your focus muscle is getting stronger, paving the way to a brighter reality.","Bravo! With each focus session, you're expanding your mental capacity for greatness.","Just as muscles get stronger, your capacity for deep work expands with every effort. Keep building!","Because of your efforts today, Future You has a greater capacity for deep focus. Well done!","Way to go! Your deeper focus today is the foundation for a more fulfilling future.","You're limitless. Deep focus is making your vision more achievable than ever before."]},70287:(e,t,s)=>{s.d(t,{Z:()=>o});var a=s(20144);const o=new class{constructor(e,t){this.localStorageKey=e,this.propertyGetter=(0,a.iH)(null);const s=JSON.parse(localStorage.getItem(e)||"null")||t;this.property=(0,a.iH)(s),(0,a.YP)((()=>this.currentValue),(e=>localStorage.setItem(this.localStorageKey,JSON.stringify(e))))}get currentValue(){return this.propertyGetter.value?this.propertyGetter.value():this.property.value}switchOverToWatchedStoreItem(e){this.propertyGetter.value=e}}("focusMode:activeState",!1)},66383:(e,t,s)=>{s.d(t,{LA:()=>u,Tv:()=>p,cc:()=>l,dU:()=>c,xk:()=>d});var a=s(15106),o=s(54046),i=s(40531),n=s(70287),r=s(68122);const d=()=>{const e=i.tJ.focusModeSettings,t={notesVisible:!0,todoVisible:!0,quoteVisible:!1,pomodoroSettingsVisible:!!e.apps.pomodoro.enabled,soundscapesVisible:!!e.apps.soundscapes.enabled,tabsVisible:!!e.apps.tabStash.enabled,focusVisible:!0,centerBelowNavVisible:!1,searchVisible:!1,launchpadVisible:!1,focusModeVisible:!0};(0,a.z)(t)},l=()=>{m.widgetManager.addVueAppExemption(o.BD,"focusMode"),m.widgetManager.addAppExemption(o.Tt,"focusMode")},u=()=>{m.widgetManager.hideApps({layer:"focusMode"}),m.widgetManager.removeVueAppExemption(o.BD,"focusMode"),m.widgetManager.removeAppExemption(o.Tt,"focusMode")},c=()=>{(0,a.z)({soundscapesVisible:!!m.conditionalFeatures.featureEnabled("plus")&&null,tabsVisible:!(!m.conditionalFeatures.featureEnabled("tab-stash-degraded")&&!m.conditionalFeatures.featureEnabled("plus"))&&null,notesVisible:null,todoVisible:null,quoteVisible:null,pomodoroSettingsVisible:null,focusVisible:null,centerBelowNavVisible:null,searchVisible:null,launchpadVisible:null,focusModeVisible:null})},p=async()=>{if(n.Z.currentValue){const e=(await r.Z.focusModeSessionStore())();await e.disableAppsBeforeStop(!1),await e.stopAndSaveFocusMode()}}},32542:(e,t,s)=>{s.d(t,{p:()=>n});var a=s(20144),o=s(34145),i=s(67652);const n=(e,{mode:t=i.Z.Sync,path:s="",responseProperty:n,syncAutomatically:r=!1}={})=>{const d=(0,a.iH)(!1),l=(0,a.iH)(!1),u=e=>{0!==e.length&&e.forEach((e=>m.add(e)))},c=async e=>{await p.update(h.$id,e,{appendIdToPath:!1})},m=new Set,p=new o.U("main",{mode:t,path:s}),h=e({loadedRef:d,loadingRef:l,updateAsync:async e=>{u(Object.keys(e)),y.$state={...y.$state,...e},await c(e)},refresh:async()=>{d.value||l.value?await p.refresh({id:h.$id,appendIdToPath:!1,timestampKey:h.$id}):g()}}),y=h(),g=()=>{y.$subscribe((e=>{d.value&&"payload"in e&&(u(Object.keys(e.payload)),c(e.payload))})),Object.keys(y.$state).forEach((e=>(0,a.YP)((()=>y[e]),(async t=>{d.value&&(m.has(e)?m.delete(e):await p.update(h.$id,{[e]:t},{appendIdToPath:!1}))})))),l.value=!0,p.get({id:h.$id,success:e=>{d.value=!0,l.value=!1,e&&(u(Object.keys(e)),y.$state={...y.$state,...e})},failure:e=>console.error(e),appendIdToPath:!1,responseProperty:n,timestampKey:h.$id})};return r&&g(),h}},68122:(e,t,s)=>{async function a(e){return(await e).default}s.d(t,{Z:()=>o});const o={countdowns:()=>a(Promise.all([s.e(3064),s.e(5535)]).then(s.bind(s,55535))),metrics:()=>a(Promise.all([s.e(3064),s.e(1103),s.e(3990)]).then(s.bind(s,71103))),clocks:()=>a(Promise.all([s.e(3064),s.e(1554)]).then(s.bind(s,71554))),focus:()=>a(Promise.all([s.e(8610),s.e(4145)]).then(s.bind(s,28610))),linksViewStateStore:()=>a(s.e(9968).then(s.bind(s,89968))),linksStore:()=>a(s.e(1886).then(s.bind(s,71886))),tabsViewStateStore:()=>a(s.e(5140).then(s.bind(s,85140))),tabsStore:()=>a(s.e(3943).then(s.bind(s,63943))),focusModeViewStateStore:()=>a(s.e(9385).then(s.bind(s,69385))),focusModeSessionStore:()=>a(Promise.all([s.e(6283),s.e(5346)]).then(s.bind(s,85346)))}},34145:(e,t,s)=>{s.d(t,{U:()=>r});var a=s(42935),o=s(24960),i=s(67652),n=s(35597);class r{constructor(e,{queryParams:t={},getResponseProperty:s,path:a="",mode:n=i.Z.Sync}={}){this.type=e,this.queryParams=t,this.getResponseProperty=s,this.path=a,this.mode=n,this.dataSync=o.Z}get({id:e,path:t=this.path||this.type,mode:s=this.mode,success:a,failure:o,queryParams:r={},retry:d,responseProperty:l=this.getResponseProperty,appendIdToPath:u,timestampKey:c=this.type}){(async()=>{var m;s===i.Z.Timestamp&&(s=await n.Z.requiresSync(c)?i.Z.Sync:i.Z.Cache,n.Z.addUpdateListener(c,this.refresh.bind(this,{id:e,path:t,queryParams:r,retry:d,responseProperty:l,appendIdToPath:u,timestampKey:c}))),t+=this.buildQueryString((null===(m=this.queryParams)||void 0===m?void 0:m.get)||{},r);const p=[this.type,{id:e,path:t,env:this.getEnv(),mode:s,retry:d,responseProperty:l,appendIdToPath:u,timestampKey:c}];s===i.Z.Server?this.dataSync.sendMessage({handler:"get",args:p}).then(a).catch(o):this.dataSync.sendRecurringCrossTabMessage({msgId:`${this.type}${e?`:${e}`:""}:refreshed`,handler:"get",args:p,success:a,failure:o})})()}refresh({id:e,path:t=this.path||this.type,queryParams:s={},retry:a,responseProperty:o=this.getResponseProperty,appendIdToPath:n,timestampKey:r=this.type}={}){return new Promise(((d,l)=>this.get({id:e,mode:i.Z.Server,path:t,queryParams:s,retry:a,success:d,failure:l,responseProperty:o,appendIdToPath:n,timestampKey:r})))}async create(e,t,{path:s=this.path||this.type,mode:a=this.mode}={}){const o=[this.type,e,t];o.push({path:s,mode:a,env:this.getEnv()}),await this.dataSync.sendMessage({handler:"create",args:o})}async update(e,t,{path:s=this.path||this.type,mode:a=this.mode,queryParams:o={},appendIdToPath:i}={}){var n;const r=this.buildQueryString((null===(n=this.queryParams)||void 0===n?void 0:n.update)||{},o),d=[this.type,e,t];d.push({path:s,mode:a,env:this.getEnv(),queryString:r,appendIdToPath:i}),await this.dataSync.sendMessage({handler:"update",args:d})}async delete(e,{path:t=this.path||this.type,mode:s=this.mode}={}){const a=[this.type,e];a.push({path:t,mode:s,env:this.getEnv()}),await this.dataSync.sendMessage({handler:"delete",args:a})}getEnv(){return{token:localStorage.getItem("token"),clientUuid:localStorage.getItem("client_uuid"),apiUrl:m.globals.urlRootApi,version:m.globals.version,tabId:a.Z}}buildQueryString(...e){const t=e.reduce(((e,t)=>({...t,...e})),{}),s=new URLSearchParams(t).toString();return s?"?"+s:""}}},36664:(e,t,s)=>{s.d(t,{Z:()=>c});var a=s(35174),o=s(92729),i=s(70237),n=s(89608);function r(e){if(!e)throw new n.B(o.Qj.PASSWORD_EMPTY);if(!i.Z.isValidPassword(e))throw new n.B(o.Qj.PASSWORD_INVALID)}var d=s(15641),l=s(40531),u=s(66108);const c=new class{async generateOneTimePassword(){var e;const{data:t}=await a.Z.post("login/onetime",{medium:"account"});return t.email||(t.uuid=null!==(e=i.Z.getUserUuid())&&void 0!==e?e:""),t}async onSuccessfulUserLogin(){localStorage.setItem("loggedIn",String(Date.now())),localStorage.removeItem("onetimeSent"),localStorage.removeItem("doLoginOnNextLoad"),await new Promise((e=>{m.trigger("user:successfulLogin",(async()=>{var t;await m.Analytics.identify(),await(0,u.Z)().refresh(),await i.Z.loadOnboarding(),m.widgetManager.populateWidgets(),m.models.themeManager.initializeThemes(),m.cmd("user.cleanup",{type:"notifications"}),m.cmd("settings.rerender"),m.conditionalFeatures.featureEnabled("team")&&(null===(t=document.getElementsByTagName("body")[0])||void 0===t||t.classList.add("has-team")),e()}))}))}async onSuccessfulAuthResponse(e,t){const s=i.Z.getUserUuid()!==e.user_uuid,a=!!(null==t?void 0:t.keepPreviousUserData);s&&!a&&(i.Z.clearLocalStorage(),await i.Z.clearIndexedDb(),m.models.customization.clear()),await i.Z.handleAuthResponse(e),e.email&&localStorage.setItem("email",e.email),(null==t?void 0:t.migrateLegacy)&&await d.Z.migrateAll()}async login(e,t){try{r(t);const{data:s}=await a.Z.post("user/authenticate",{username:e,password:t});await this.onSuccessfulAuthResponse({...s,email:e},{keepPreviousUserData:!1,migrateLegacy:!1})}catch(e){if(e instanceof n.B)throw e;throw(0,a.y)(e,{401:o.Qj.PASSWORD_INCORRECT})}}async register(e,t,s,o){try{r(s);const{data:{token:n,token_uuid:d,settings:{features:l,user_id:u}}}=await a.Z.post("user/register",{name:e,email:t,password:s,newsletterOptIn:o.newsletterOptIn});await this.onSuccessfulAuthResponse({token:n,token_uuid:d,user_uuid:u,features:l,email:t},{keepPreviousUserData:i.Z.userIsLegacyUnregistered(),migrateLegacy:i.Z.userIsLegacyUnregistered()})}catch(e){if(e instanceof n.B)throw e;throw(0,a.y)(e)}}async stayUnregistered(e){try{if(localStorage.getItem("unregistered"))return;const{data:{token:t,token_uuid:s,settings:{features:o,user_id:i}}}=await a.Z.post("user/register?canceled=true",{name:e});await this.onSuccessfulAuthResponse({token:t,token_uuid:s,user_uuid:i,features:o},{keepPreviousUserData:!0,migrateLegacy:!1}),l.ax.displayname=e,localStorage.setItem("unregistered","true")}catch(e){throw console.log(e),(0,a.y)(e)}}async checkEmail(e){try{!function(e){if(!e)throw new n.B(o.Qj.EMAIL_EMPTY);if(!i.Z.isValidEmail(e))throw new n.B(o.Qj.EMAIL_INVALID.replace("{email}",e))}(e);const{data:t}=await a.Z.post("/user:preregister",{email:e});return t}catch(e){if(e instanceof n.B)throw e;throw(0,a.y)(e)}}async resetPassword(e,t,s){try{r(s),await a.Z.post("user/forgot",{name:e,email:t,password:s})}catch(e){if(e instanceof n.B)throw e;throw(0,a.y)(e)}}}},66108:(e,t,s)=>{s.d(t,{Z:()=>d,y:()=>a});var a,o=s(70237),i=s(67652),n=s(63420),r=s(32542);!function(e){e.Plus="subscribed",e.TrialingCardless="trialingCardless",e.TrialingCard="trialingCard",e.ExpiredTrial="expiredTrial",e.ExpiredPlus="expiredPlus",e.Free="free"}(a||(a={}));const d=(0,r.p)((({loadedRef:e,loadingRef:t,refresh:s})=>(0,n.Q_)("userSubscriptionSummary",{state:()=>({active:!1,error:null,firstSubscriptionStart:null,hasPaymentMethod:!1,intent:null,pastDue:!1,subscriptionEnd:null,trialEnd:null,trialing:!1}),getters:{loaded:()=>e.value,loading:()=>t.value,status:e=>e.trialing&&e.hasPaymentMethod?a.TrialingCard:e.trialing&&!e.hasPaymentMethod?a.TrialingCardless:e.active?a.Plus:e.subscriptionEnd?a.ExpiredPlus:e.trialEnd?a.ExpiredTrial:a.Free,trialRemainingDays(e){var t;return o.Z.dateDiffIntegerDays(Date.now(),null!==(t=e.trialEnd)&&void 0!==t?t:Date.now())}},actions:{async refresh(){await s()}}})),{path:"user/subscription_summary",mode:i.Z.Timestamp})}}]);