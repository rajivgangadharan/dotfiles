(globalThis.webpackChunkmomentum=globalThis.webpackChunkmomentum||[]).push([[5861],{58964:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});let i={};const a={bind:function(t,e){m.utils.isTouchDevice()&&(t.dataset.justBoundMobileBlurHandler=!0,setTimeout((()=>{t.dataset.justBoundMobileBlurHandler=!1}),100),t.dataset.mobileBlurHandlerId=Math.random().toString(36).substring(7),i[t.dataset.mobileBlurHandlerId]=e.value,t.addEventListener("focusout",e.value))},unbind:function(t){m.utils.isTouchDevice()&&(t.removeEventListener("click",i[t.dataset.mobileBlurHandlerId]),delete i[t.dataset.mobileBlurHandlerId],delete t.dataset.mobileBlurHandlerId,delete t.dataset.justBoundMobileBlurHandler)}}},8552:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i={inserted:function(t,e){var n;if(!1===(null==e?void 0:e.value))return;const i=null==t||null===(n=t.value)||void 0===n?void 0:n.length;let a=!1;"email"===t.getAttribute("type")&&(a=!0,t.setAttribute("type","text")),t.select(),(i||0===i)&&(t.setSelectionRange(i,i),t.scrollLeft=t.scrollWidth),a&&t.setAttribute("type","email")}}},98930:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var i=n(8081),a=n.n(i),s=n(23645),o=n.n(s)()(a());o.push([t.id,"\n/* stylelint-disable */\n.login-input[data-v-8c9fa1c6] { --pass-vis-icon-width: 21px; --pass-vis-icon-side-padding: 8px; --pass-vis-width: calc(var(--pass-vis-icon-width) + var(--pass-vis-icon-side-padding) * 2); min-width: min(37rem, 100%); max-width: 100%; position: relative; align-self: stretch; display: flex; justify-content: center; border-bottom: 3px solid #fff; font-weight: 500; margin-inline: auto;\n}\n.login-input.has-text-input[data-v-8c9fa1c6] { padding: 0;\n}\n\n\t/*\n\tWhen right and left columns are present (password):\n\t- Right column should never shrink at all or be pushed outside the input.\n\t- Left column should give way to text as soon as text reaches that column so that the text can fill the entire input.\n\t- There should be no extra padding on the left once the input is expanding.\n\t- The bullets or text should not be clipped unless the input is a max width.\n\t- Text should be centred relative to the underline until it reaches the left column.\n\t- Once it expands into the left column should be centred relative to the left and center columns\n\t*/\n.input-left-column[data-v-8c9fa1c6] { flex: 0 9999999 var(--pass-vis-width);\n} /* 9999999 ensures this column shrinks immediately */\n.input-center-column[data-v-8c9fa1c6] { min-width: 0; position: relative; overflow: hidden; width: min-content; flex-grow: 1;\n} /* flex-shrink: 1; min-width: 0; so that this column does not push the right outside of the input */\n.input[data-v-8c9fa1c6] { width: 100%; padding: 0; position: absolute; top: 0; right: 0; bottom: 0; left: 0; border: none; caret-color: white; font-weight: 500; line-height: normal; outline: none; text-align: center;\n}\n.Safari input[data-v-8c9fa1c6]::-webkit-contacts-auto-fill-button, .Safari input[data-v-8c9fa1c6]::-webkit-credentials-auto-fill-button { position: absolute; right: 0; pointer-events: none; visibility: hidden;\n} /* hide key icon & dropdown in password input */\n.input[data-v-8c9fa1c6]::-ms-reveal { display: none;\n}\n.input[data-v-8c9fa1c6]:disabled { pointer-events: none;\n}\n.hidden-span[data-v-8c9fa1c6] { overflow-wrap: normal; visibility: hidden; display: block; white-space: nowrap;\n}\n.input-right-column[data-v-8c9fa1c6] { padding: 0 var(--pass-vis-icon-side-padding); flex: 0 0 auto; background: transparent; border: none; cursor: pointer;\n}\n.input-right-column[data-v-8c9fa1c6]:focus { outline: none;\n}\n",""]);const l=o},55861:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>c});var i=function(){var t=this,e=t._self._c;return e("login-layout",{attrs:{loading:t.loading,"data-test":"email-step"},on:{submit:t.checkEmail},scopedSlots:t._u([{key:"actions-top-left",fn:function(){return[e("div",{staticClass:"dash-button",attrs:{"data-test":"name-button"},on:{click:t.goToName}},[e("inline-svg",{staticClass:"icon icon-back",attrs:{src:n(86043)}}),t._v(" "),e("span",[t._v("Name")])],1)]},proxy:!0},{key:"actions-top-right",fn:function(){return[t.showStayLoggedOut?e("div",{staticClass:"dash-button",attrs:{"data-test":"stay-logged-out-button"},on:{click:t.stayLoggedOut}},[t.$mobile?e("span",[t._v("Skip")]):e("span",[t._v("Stay logged out")]),t._v(" "),e("inline-svg",{staticClass:"icon icon-next",attrs:{src:n(67200)}})],1):t._e()]},proxy:!0},{key:"title",fn:function(){return[t._v("\n\t\tMomentum account\n\t")]},proxy:!0},{key:"question",fn:function(){return[t._v("\n\t\tWhat's your email, "+t._s(t.name)+"?\n\t")]},proxy:!0},{key:"input",fn:function(){return[e("login-input",{attrs:{value:t.email,disabled:t.loading,type:"email"},on:{input:function(e){return t.$emit("update:email",e)},submit:t.checkEmail}})]},proxy:!0},{key:"message",fn:function(){return[e("div",{domProps:{innerHTML:t._s(t.computedMessage)}})]},proxy:!0}])})};i._withStripped=!0;var a=n(73366),s=n(47680),o=n(26595),l=n(27779),u=n(36664),r=n(68313);const d={name:"LoginEmail",components:{LoginLayout:a.Z,LoginInput:s.Z},mixins:[l.Z],inject:["capture"],props:{shouldDisplayNewsletterOptIn:{type:Boolean,required:!0}},data:()=>({message:"Enter your email to create a Momentum account or log in."}),computed:{showStayLoggedOut:()=>!(0,r.isSafari)()},mounted(){this.capture("email-step show")},methods:{onEnter(){this.checkEmail()},onEscape(){this.goToName("hotkey")},goToName(t="click"){this.capture("change name click",{method:t}),this.$emit("goToSubStep",o.lD.NAME)},stayLoggedOut(){return this.capture("email-step dismiss",{method:"click"}),this.setLoadingWithErrorHandling((async()=>{await u.Z.stayUnregistered(this.name),this.$emit("complete")}))},checkEmail(){return this.setLoadingWithErrorHandling((async t=>{const{emailExists:e,newsletterOptIn:n}=await u.Z.checkEmail(this.email);this.$emit("update:shouldDisplayNewsletterOptIn",n),this.$emit("goToSubStep",e?o.lD.ENTER_PASSWORD:o.lD.CHOOSE_PASSWORD),t()}))}}},c=(0,n(51900).Z)(d,i,[],!1,null,null,null).exports},47680:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-input",class:{"has-text-input":"password"!==t.type}},[t.showSideColumns?e("span",{staticClass:"input-left-column",attrs:{"data-test":"input-left-column"}}):t._e(),t._v(" "),e("span",{staticClass:"input-center-column",attrs:{"data-test":"input-center-column"}},[e("input",{directives:[{name:"soft-focus",rawName:"v-soft-focus"}],ref:"input",staticClass:"input",attrs:{spellcheck:"false",autocomplete:"off",name:"notASearchFieldSafari",type:t.type,disabled:t.disabled,"data-test":"login-input"},domProps:{value:t.value},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),t.submit.apply(null,arguments))},input:function(e){return t.$emit("input",e.target.value)},click:function(t){t.stopPropagation()}}}),t._v(" "),e("span",{staticClass:"hidden-span"},[t._v(t._s(t.hiddenSpanValue))])]),t._v(" "),t.showSideColumns?e("span",{staticClass:"input-right-column",attrs:{"data-test":"input-right-column"}},[t._t("input-right")],2):t._e()])};i._withStripped=!0;var a=n(8552);const s={name:"LoginInput",directives:{MobileBlur:n(58964).Z,SoftFocus:a.Z},props:{value:{type:String,default:""},type:{type:String,default:"text"},disabled:{type:Boolean,default:!1}},computed:{showSideColumns(){return!!this.$slots["input-right"]},hiddenSpanValue(){return this.value?"password"!==this.type||this.showInputText?this.value.replace(/ /g," ")||" ":new Array(this.value.length+1).join("•"):" "}},methods:{submit(){this.$emit("submit")}}};n(76302);const o=(0,n(51900).Z)(s,i,[],!1,null,"8c9fa1c6",null).exports},76302:(t,e,n)=>{var i=n(98930);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,n(45346).Z)("6a0397d6",i,!1,{ssrId:!0})},86043:t=>{"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyODkuMDQgNDkyIj48cGF0aCBkPSJNMTk4LjYxLDI0Ni4xLDM4Mi42Niw2MmEyNywyNywwLDAsMCwwLTM4LjA2TDM2Ni41NCw3Ljg2YTI3LDI3LDAsMCwwLTM4LjA2LDBMMTA5LjMzLDIyN2EyNy4xNSwyNy4xNSwwLDAsMCwwLDM4LjE5TDMyOC4yNyw0ODQuMTRhMjcsMjcsMCwwLDAsMzguMDcsMEwzODIuNDYsNDY4YTI3LDI3LDAsMCwwLDAtMzguMDZaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTAxLjQ4KSIgLz48L3N2Zz4K"}}]);